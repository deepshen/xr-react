(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{267:function(e,t,n){e.exports=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=9)}([function(e,t,n){"use strict";e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(t,e,n){"use strict";function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(e){return typeof e}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}t.exports=r},function(e,t,n){"use strict";var o=n(0)(n(1)),i=n(21),k=n(22),r=n(23),a=n(26);function w(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}function s(){}function c(e){var t={};for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&null!==e[n]&&(t[n]=e[n]);return t}var u,l,d,f,p,h=(p=function(e,t){e=e.split("."),t=t.split(".");for(var n=0;n<t.length;n++)if(e[n]!==t[n])return parseInt(e[n])>parseInt(t[n])?1:-1;return 0},l=((u=navigator&&navigator.userAgent).match(/Chrome\/([.\d]+)/)||[])[1],d=(u.match(/QBCore\/([.\d]+)/)||[])[1],f=(u.match(/QQBrowser\/([.\d]+)/)||[])[1],l&&p(l,"53.0.2785.116")<0&&d&&p(d,"3.53.991.400")<0&&f&&p(f,"9.0.2524.400")<=0||!1);function S(e){return v(e,function(e){return"object"===(0,o.default)(e)?S(e):e})}function g(n,r){return y(r,function(e,t){n[t]=r[t]}),n}function m(e){return e instanceof Array}function y(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function v(e,t){var n=m(e)?[]:{};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r));return n}function C(e,n){var r;return n=g({},n),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e&&(r=n.Headers||{},n&&"object"===(0,o.default)(n)&&(function(){for(var e in n)n.hasOwnProperty(e)&&-1<e.indexOf("x-cos-")&&(r[e]=n[e])}(),b.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"},function(e,t){void 0!==n[e]&&(r[t]=n[e])}),n.Headers=c(r))),n}function T(e){return Date.now()+(e||0)}var b={noop:s,formatParams:C,apiWrapper:function(a,s){return function(o,n){"function"==typeof o&&(n=o,o={}),o=C(a,o);function r(e){return e&&e.headers&&(e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e}function e(e,t){n&&n(r(e),r(t))}var t;if("getService"!==a&&"abortUploadTask"!==a){if(t=function(e){var t=o.Bucket,n=o.Region,r=o.Key;if(-1<e.indexOf("Bucket")||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(!t)return"Bucket";if(!n)return"Region"}else if(-1<e.indexOf("Object")||-1<e.indexOf("multipart")||"sliceUploadFile"===e||"abortUploadTask"===e){if(!t)return"Bucket";if(!n)return"Region";if(!r)return"Key"}return!1}(a))return void e({error:"missing param "+t});if(o.Region){if(-1<o.Region.indexOf("cos."))return void e({error:'param Region should not be start with "cos."'});if(!/^([a-z\d-]+)$/.test(o.Region))return void e({error:"Region format error."});this.options.CompatibilityMode||-1!==o.Region.indexOf("-")||"yfb"===o.Region||o.Region}if(o.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(o.Bucket))if(o.AppId)o.Bucket=o.Bucket+"-"+o.AppId;else{if(!this.options.AppId)return void e({error:'Bucket should format as "test-1250000000".'});o.Bucket=o.Bucket+"-"+this.options.AppId}o.AppId&&delete o.AppId}!this.options.UseRawKey&&o.Key&&"/"===o.Key.substr(0,1)&&(o.Key=o.Key.substr(1))}var i=s.call(this,o,e);if("getAuth"===a||"getObjectUrl"===a)return i}},xml2json:r,json2xml:a,md5:i,clearKey:c,fileSlice:function(e,t,n,r,o){var i,a;e.slice?i=e.slice(t,n):e.mozSlice?i=e.mozSlice(t,n):e.webkitSlice&&(i=e.webkitSlice(t,n)),r&&h?((a=new FileReader).onload=function(e){i=null,o(new Blob([a.result]))},a.readAsArrayBuffer(i)):o(i)},getBodyMd5:function(e,t,n,r){n=n||s,e?"string"==typeof t?n(b.md5(t,!0)):Blob&&t instanceof Blob?b.getFileMd5(t,function(e,t){n(t)},r):n():n()},getFileMd5:function(n,r,s){var c=n.size,u=0,l=i.getCtx();!function o(i){var e,t;c<=i?(e=l.digest("hex"),r(null,e)):(t=Math.min(c,i+1048576),b.fileSlice(n,i,t,!1,function(t){var e,a,n,r;e=t,a=function(e){t=null,l=l.update(e,!0),u+=e.length,e=null,s&&s({loaded:u,total:c,percent:Math.round(u/c*1e4)/1e4}),o(i+1048576)},r=new FileReader,FileReader.prototype.readAsBinaryString?(n=FileReader.prototype.readAsBinaryString,r.onload=function(){a(this.result)}):FileReader.prototype.readAsArrayBuffer&&(n=function(e){var o="",i=new FileReader;i.onload=function(e){for(var t=new Uint8Array(i.result),n=t.byteLength,r=0;r<n;r++)o+=String.fromCharCode(t[r]);a(o)},i.readAsArrayBuffer(e)}),n.call(r,e)}))}(0)},binaryBase64:function(e){for(var t,n="",r=0,o=e.length/2;r<o;r++)t=parseInt(e[2*r]+e[2*r+1],16),n+=String.fromCharCode(t);return btoa(n)},extend:g,isArray:m,isInArray:function(e,t){for(var n=!1,r=0;r<e.length;r++)if(t===e[r]){n=!0;break}return n},makeArray:function(e){return m(e)?e:[e]},each:y,map:v,filter:function(e,t){var n=m(e),r=n?[]:{};for(var o in e)e.hasOwnProperty(o)&&t(e[o],o)&&(n?r.push(e[o]):r[o]=e[o]);return r},clone:S,uuid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},camSafeUrlEncode:w,throttleOnProgress:function(n,r){var o,i,a=this,s=0,c=0,u=Date.now();function l(){if(i=0,r&&"function"==typeof r){o=Date.now();var e=Math.max(0,Math.round((c-s)/((o-u)/1e3)*100)/100),t=0===c&&0===n?1:Math.round(c/n*100)/100||0;u=o,s=c;try{r({loaded:c,total:n,speed:e,percent:t})}catch(e){}}}return function(e,t){if(e&&(c=e.loaded,n=e.total),t)clearTimeout(i),l();else{if(i)return;i=setTimeout(l,a.options.ProgressInterval)}}},getFileSize:function(e,t,n){var r;"string"==typeof t.Body&&(t.Body=new Blob([t.Body],{type:"text/plain"})),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(r=t.Body.size,n(null,t.ContentLength=r)):n({error:"params body format error, Only allow File|Blob|String."})},getSkewTime:T,getAuth:function(e){var t,n=(e=e||{}).SecretId,r=e.SecretKey,o=e.KeyTime,i=(e.method||e.Method||"get").toLowerCase(),a=S(e.Query||e.params||{}),s=S(e.Headers||e.headers||{}),c=e.Key||"";if(e.UseRawKey?t=e.Pathname||e.pathname||"/"+c:0!==(t=e.Pathname||e.pathname||c).indexOf("/")&&(t="/"+t),n&&r){var u=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort(function(e,t){return(e=e.toLowerCase())===(t=t.toLowerCase())?0:t<e?1:-1})},l=function(e){for(var t,n,r=[],o=u(e),i=0;i<o.length;i++)n=void 0===e[t=o[i]]||null===e[t]?"":""+e[t],t=w(t=t.toLowerCase()),n=w(n)||"",r.push(t+"="+n);return r.join("&")},d=Math.round(T(e.SystemClockOffset)/1e3)-1,f=d,p=e.Expires||e.expires;f+=void 0===p?900:+p||0;var h=n,g=o||d+";"+f,m=o||d+";"+f,y=u(s).join(";").toLowerCase(),v=u(a).join(";").toLowerCase(),C=k.HmacSHA1(m,r).toString(),b=[i,t,l(a),l(s),""].join("\n"),x=["sha1",g,k.SHA1(b).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+h,"q-sign-time="+g,"q-key-time="+m,"q-header-list="+y,"q-url-param-list="+v,"q-signature="+k.HmacSHA1(x,C).toString()].join("&")}},isBrowser:!0};e.exports=b},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){"use strict";var f=n(0)(n(1));function i(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var n,r,o=e.prototype;Object.create&&(n=Object.create(t.prototype),o.__proto__=n),o instanceof t||((r=function(){}).prototype=t.prototype,i(o,r=new r),e.prototype=o=r),o.constructor!=e&&(o.constructor=e)}var o={},y=o.ELEMENT_NODE=1,v=o.ATTRIBUTE_NODE=2,C=o.TEXT_NODE=3,b=o.CDATA_SECTION_NODE=4,x=o.ENTITY_REFERENCE_NODE=5,k=(o.ENTITY_NODE=6,o.PROCESSING_INSTRUCTION_NODE=7),w=o.COMMENT_NODE=8,S=o.DOCUMENT_NODE=9,T=o.DOCUMENT_TYPE_NODE=10,R=o.DOCUMENT_FRAGMENT_NODE=11,a=(o.NOTATION_NODE=12,{}),s={};a.INDEX_SIZE_ERR=(s[1]="Index size error",1),a.DOMSTRING_SIZE_ERR=(s[2]="DOMString size error",2),a.HIERARCHY_REQUEST_ERR=(s[3]="Hierarchy request error",3),a.WRONG_DOCUMENT_ERR=(s[4]="Wrong document",4),a.INVALID_CHARACTER_ERR=(s[5]="Invalid character",5),a.NO_DATA_ALLOWED_ERR=(s[6]="No data allowed",6),a.NO_MODIFICATION_ALLOWED_ERR=(s[7]="No modification allowed",7),a.NOT_FOUND_ERR=(s[8]="Not found",8),a.NOT_SUPPORTED_ERR=(s[9]="Not supported",9),a.INUSE_ATTRIBUTE_ERR=(s[10]="Attribute in use",10);function c(e,t){var n;return t instanceof Error?n=t:(n=this,Error.call(this,s[e]),this.message=s[e],Error.captureStackTrace&&Error.captureStackTrace(this,c)),n.code=e,t&&(this.message=this.message+": "+t),n}function p(){}function u(e,t){this._node=e,this._refresh=t,l(this)}function l(e){var t,n=e._node._inc||e._node.ownerDocument._inc;e._inc!=n&&(t=e._refresh(e._node),Y(e,"length",t.length),i(t,e),e._inc=n)}function h(){}function d(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function g(e,t,n,r){var o,i,a;r?t[d(t,r)]=n:t[t.length++]=n,e&&(o=(n.ownerElement=e).ownerDocument)&&(r&&N(o,e,r),i=e,a=n,o&&o._inc++,"http://www.w3.org/2000/xmlns/"==a.namespaceURI&&(i._nsMap[a.prefix?a.localName:""]=a.value))}function m(e,t,n){var r=d(t,n);if(!(0<=r))throw c(8,new Error(e.tagName+"@"+n));for(var o,i=t.length-1;r<i;)t[r]=t[++r];t.length=i,e&&(o=e.ownerDocument)&&(N(o,e,n),n.ownerElement=null)}function A(e){if(this._features={},e)for(var t in e)this._features=e[t]}function E(){}function _(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function B(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(B(e,t))return 1}while(e=e.nextSibling)}function P(){}function N(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function O(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)o=(r[i++]=o).nextSibling;r.length=i}}}function I(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,O(e.ownerDocument,e),t}function D(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===R){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;var a=n?n.previousSibling:e.lastChild;for(o.previousSibling=a,i.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,null==n?e.lastChild=i:n.previousSibling=i;o.parentNode=e,o!==i&&(o=o.nextSibling););return O(e.ownerDocument||e,e),t.nodeType==R&&(t.firstChild=t.lastChild=null),t}function L(){this._nsMap={}}function M(){}function j(){}function U(){}function H(){}function F(){}function K(){}function z(){}function q(){}function G(){}function W(){}function V(){}function X(){}function $(e,t){var n,r=[],o=9==this.nodeType?this.documentElement:this,i=o.prefix,a=o.namespaceURI;return a&&null==i&&null==(i=o.lookupPrefix(a))&&(n=[{namespace:a,prefix:null}]),Q(this,r,e,t,n),r.join("")}function J(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if((r||o)&&("xml"!==r||"http://www.w3.org/XML/1998/namespace"!==o)&&"http://www.w3.org/2000/xmlns/"!=o){for(var i=n.length;i--;){var a=n[i];if(a.prefix==r)return a.namespace!=o}return 1}}function Q(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return t.push(e),0}switch(e.nodeType){case y:(o=o||[]).length;var i=e.attributes,a=i.length,s=e.firstChild,c=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",c);for(var u,l,d,f,p=0;p<a;p++)"xmlns"==(u=i.item(p)).prefix?o.push({prefix:u.localName,namespace:u.value}):"xmlns"==u.nodeName&&o.push({prefix:"",namespace:u.value});for(p=0;p<a;p++){J(u=i.item(p),0,o)&&(l=u.prefix||"",d=u.namespaceURI,f=l?" xmlns:"+l:" xmlns",t.push(f,'="',d,'"'),o.push({prefix:l,namespace:d})),Q(u,t,n,r,o)}if(J(e,0,o)&&(l=e.prefix||"",d=e.namespaceURI,f=l?" xmlns:"+l:" xmlns",t.push(f,'="',d,'"'),o.push({prefix:l,namespace:d})),s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;s;)s.data?t.push(s.data):Q(s,t,n,r,o),s=s.nextSibling;else for(;s;)Q(s,t,n,r,o),s=s.nextSibling;t.push("</",c,">")}else t.push("/>");return;case S:case R:for(s=e.firstChild;s;)Q(s,t,n,r,o),s=s.nextSibling;return;case v:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,_),'"');case C:return t.push(e.data.replace(/[<&]/g,_));case b:return t.push("<![CDATA[",e.data,"]]>");case w:return t.push("\x3c!--",e.data,"--\x3e");case T:var h,g=e.publicId,m=e.systemId;return t.push("<!DOCTYPE ",e.name),void(g?(t.push(' PUBLIC "',g),m&&"."!=m&&t.push('" "',m),t.push('">')):m&&"."!=m?t.push(' SYSTEM "',m,'">'):((h=e.internalSubset)&&t.push(" [",h,"]"),t.push(">")));case k:return t.push("<?",e.target," ",e.data,"?>");case x:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Y(e,t,n){e[t]=n}a.INVALID_STATE_ERR=(s[11]="Invalid state",11),a.SYNTAX_ERR=(s[12]="Syntax error",12),a.INVALID_MODIFICATION_ERR=(s[13]="Invalid modification",13),a.NAMESPACE_ERR=(s[14]="Invalid namespace",14),a.INVALID_ACCESS_ERR=(s[15]="Invalid access",15),c.prototype=Error.prototype,i(a,c),p.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)Q(this[r],n,e,t);return n.join("")}},u.prototype.item=function(e){return l(this),this[e]},r(u,p),h.prototype={length:0,item:p.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new c(10);var n=this.getNamedItem(e.nodeName);return g(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new c(10);return t=this.getNamedItemNS(e.namespaceURI,e.localName),g(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return m(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return m(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},A.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r,o=new P;return o.implementation=this,o.childNodes=new p,(o.doctype=n)&&o.appendChild(n),t&&(r=o.createElementNS(e,t),o.appendChild(r)),o},createDocumentType:function(e,t,n){var r=new K;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},E.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return D(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return I(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var o=new n.constructor;for(var i in n){var a=n[i];"object"!=(0,f.default)(a)&&a!=o[i]&&(o[i]=a)}switch(n.childNodes&&(o.childNodes=new p),o.ownerDocument=t,o.nodeType){case y:var s=n.attributes,c=o.attributes=new h,u=s.length;c._ownerElement=o;for(var l=0;l<u;l++)o.setAttributeNode(e(t,s.item(l),!0));break;case v:r=!0}if(r)for(var d=n.firstChild;d;)o.appendChild(e(t,d,r)),d=d.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==C&&e.nodeType==C?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return 0<this.attributes.length},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==v?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==v?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},i(o,E),i(o,E.prototype),P.prototype={nodeName:"#document",nodeType:S,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType!=R)return null==this.documentElement&&e.nodeType==y&&(this.documentElement=e),D(this,e,t),e.ownerDocument=this,e;for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),I(this,e)},importNode:function(e,t){return function e(t,n,r){var o;switch(n.nodeType){case y:(o=n.cloneNode(!1)).ownerDocument=t;case R:break;case v:r=!0}if((o=o||n.cloneNode(!1)).ownerDocument=t,o.parentNode=null,r)for(var i=n.firstChild;i;)o.appendChild(e(t,i,r)),i=i.nextSibling;return o}(this,e,t)},getElementById:function(t){var n=null;return B(this.documentElement,function(e){if(e.nodeType==y&&e.getAttribute("id")==t)return n=e,!0}),n},createElement:function(e){var t=new L;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new p,(t.attributes=new h)._ownerElement=t},createDocumentFragment:function(){var e=new W;return e.ownerDocument=this,e.childNodes=new p,e},createTextNode:function(e){var t=new U;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new F;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new V;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new M;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new G;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new L,r=t.split(":"),o=n.attributes=new h;return n.childNodes=new p,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n},createAttributeNS:function(e,t){var n=new M,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(P,E),P.prototype.getElementsByTagName=(L.prototype={nodeType:y,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===R?this.insertBefore(e,null):(t=this,(o=(n=e).parentNode)&&(r=t.lastChild,o.removeChild(n),r=t.lastChild),r=t.lastChild,n.parentNode=t,n.previousSibling=r,n.nextSibling=null,r?r.nextSibling=n:t.firstChild=n,t.lastChild=n,O(t.ownerDocument,t,n),n);var t,n,r,o},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(r){return new u(this,function(t){var n=[];return B(t,function(e){e===t||e.nodeType!=y||"*"!==r&&e.tagName!=r||n.push(e)}),n})},getElementsByTagNameNS:function(r,o){return new u(this,function(t){var n=[];return B(t,function(e){e===t||e.nodeType!==y||"*"!==r&&e.namespaceURI!==r||"*"!==o&&e.localName!=o||n.push(e)}),n})}}).getElementsByTagName,P.prototype.getElementsByTagNameNS=L.prototype.getElementsByTagNameNS,r(L,E),M.prototype.nodeType=v,r(M,E),j.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(s[3])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(j,E),U.prototype={nodeName:"#text",nodeType:C,splitText:function(e){var t=(n=this.data).substring(e),n=n.substring(0,e);this.data=this.nodeValue=n,this.length=n.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(U,j),H.prototype={nodeName:"#comment",nodeType:w},r(H,j),F.prototype={nodeName:"#cdata-section",nodeType:b},r(F,j),K.prototype.nodeType=T,r(K,E),z.prototype.nodeType=12,r(z,E),q.prototype.nodeType=6,r(q,E),G.prototype.nodeType=x,r(G,E),W.prototype.nodeName="#document-fragment",W.prototype.nodeType=R,r(W,E),V.prototype.nodeType=k,r(V,E),X.prototype.serializeToString=function(e,t,n){return $.call(e,t,n)},E.prototype.toString=$;try{Object.defineProperty&&(Object.defineProperty(u.prototype,"length",{get:function(){return l(this),this.$$length}}),Object.defineProperty(E.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case y:case R:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case y:case R:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Y=function(e,t,n){e["$$"+t]=n})}catch(e){}t.DOMImplementation=A,t.XMLSerializer=X},function(e,t,n){"use strict";function r(e){function o(e){return t[e]||(t[e]=[]),t[e]}var t={};e.on=function(e,t){o(e).push(t)},e.off=function(e,t){for(var n=o(e),r=n.length-1;0<=r;r--)t===n[r]&&n.splice(r,1)},e.emit=function(e,t){for(var n=o(e).map(function(e){return e}),r=0;r<n.length;r++)n[r](t)}}e.exports.init=r,e.exports.EventProxy=function(){r(this)}},function(e,t,n){"use strict";function i(){if(!s){s=JSON.parse(localStorage.getItem(c)||"[]")||[];for(var e=!1,t=Math.round(Date.now()/1e3),n=s.length-1;0<=n;n--){var r=s[n][2];(!r||r+2592e3<t)&&(s.splice(n,1),e=!0)}e&&localStorage.setItem(c,JSON.stringify(s))}}function a(){r=r||setTimeout(function(){localStorage.setItem(c,JSON.stringify(s)),r=null},400)}var s,r,o=n(2),c="cos_sdk_upload_cache",u={using:{},setUsing:function(e){u.using[e]=!0},removeUsing:function(e){delete u.using[e]},getFileId:function(e,t,n,r){return e.name&&e.size&&e.lastModifiedDate&&t?o.md5([e.name,e.size,e.lastModifiedDate,t,n,r].join("::")):null},getUploadIdList:function(e){if(!e)return null;i();for(var t=[],n=0;n<s.length;n++)s[n][0]===e&&t.push(s[n][1]);return t.length?t:null},saveUploadId:function(e,t,n){if(i(),e){for(var r=s.length-1;0<=r;r--){var o=s[r];o[0]===e&&o[1]===t&&s.splice(r,1)}s.unshift([e,t,Math.round(Date.now()/1e3)]),s.length>n&&s.splice(n),a()}},removeUploadId:function(e){i(),delete u.using[e];for(var t=s.length-1;0<=t;t--)s[t][1]===e&&s.splice(t,1);a()}};e.exports=u},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.supportMimeTypes=t.imageMimeTypes=void 0;var f=r(n(10)),a=r(n(12)),o=r(n(13)),s=r(n(4)),c=r(n(5)),u=r(n(14)),l=r(n(16)),p=r(n(18)),h=r(n(19)),i=r(n(32)),g=r(n(33));function d(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){(0,o.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var y={PNG:"image/png",JPEG:"image/jpeg",WEBP:"image/webp",BMP:"image/bmp"};t.imageMimeTypes=y;var v=Object.values(y);t.supportMimeTypes=v;var C=function(e){(0,u.default)(d,e);var n,t,r,o,i=(r=d,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,n=(0,p.default)(r);return t=o?(e=(0,p.default)(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments),(0,l.default)(this,t)});function d(r){var e;return(0,s.default)(this,d),e=i.call(this),r.urlProtocol="https://",e.opts=r,e.cos=new h.default(m(m({},r.cosOptions),{},{getAuthorization:function(e,t){var n=this;r.getAuth(e).then(function(e){n.emit("auth-success",e),t(e)}).catch(function(e){n.emit("auth-failed",e),t(e)})}})),e}return(0,c.default)(d,[{key:"upload",value:(t=(0,a.default)(f.default.mark(function e(t){var n,r,o,i,a,s,c,u=this,l=arguments;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=1<l.length&&void 0!==l[1]?l[1]:this.opts,Array.isArray(t)||(t=[t]),o=o&&m(m({},this.opts),o),null===(n=o)||void 0===n||null===(r=n.image)||void 0===r||!r.quality){e.next=14;break}a=0,s=t.length;case 5:if(!(a<s)){e.next=14;break}if(i=t[a],d.isSupportImageType(i.type)&&(!o.image.compressIfGt||i.size>o.image.compressIfGt))return e.next=10,d.compressImage(i,o.image.quality);e.next=11;break;case 10:t[a]=e.sent.blob;case 11:++a,e.next=5;break;case 14:return c=t.map(function(e){return u.wrapperFile(e,o)}),e.next=17,this.uploadFiles(c,o);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"uploadFiles",value:function(o,i){var a=this;return new Promise(function(t,n){var e,r=[];a.emit("before-upload",o),a.cos.uploadFiles({files:o,SliceSize:null==i||null===(e=i.cosOptions)||void 0===e?void 0:e.SliceSize,onProgress:function(e){return a.emit("upload-progress",e)},onFileFinish:function(e,t){e?a.emit("upload-file-failed",e,t):(r.push(a.formatUrl(t.Location,i)),a.emit("upload-file-success",t))}},function(e){e&&!r.length?(a.emit("upload-error",e),n(e)):t(r),a.emit("upload-finish",r)})})}},{key:"formatUrl",value:function(e,t){if(e=t.urlProtocol+e,!t.urlDomain)return e;var n=new window.URL(e);return n.hostname=t.urlDomain,n.toString()}},{key:"wrapperFile",value:function(e,t){return{Bucket:t.bucket,Region:t.region,Key:t.fileKey?t.fileKey(e):d.guid()+this.getFileType(e),Body:e}}},{key:"getFileType",value:function(e){if(e.name){var t=e.name.split(".").slice(-1)[0];if(t)return"."+t}return e.type?"."+e.type.split("/").slice(-1)[0]:""}}],[{key:"isSupportImageType",value:function(e){return v.includes(e)}},{key:"img",value:function(e){return new g.default(e)}},{key:"guid",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())}},{key:"getImage",value:function(i){return new Promise(function(e,t){var n=window.URL,r=n.createObjectURL(i),o=new Image;o.onerror=function(){n.revokeObjectURL(r),t("image load error")},o.onload=function(){n.revokeObjectURL(r),e(o)},o.src=r})}},{key:"toBlob",value:function(e,r){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.92;return new Promise(function(t,n){e.toBlob(function(e){e?t(e):n("to blob failed")},r,o)})}},{key:"compressImage",value:(n=(0,a.default)(f.default.mark(function e(t,n){var r,o,i,a;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.isSupportImageType(t.type)){e.next=2;break}throw new Error("unsupported image type: "+t.type);case 2:return e.next=4,this.getImage(t);case 4:if(r=e.sent,o=document.createElement("canvas"),i=o.getContext("2d")){e.next=9;break}throw new Error("canvas context is null");case 9:return o.width=r.width,o.height=r.height,t.type===y.JPEG?(i.fillStyle="#fff",i.fillRect(0,0,o.width,o.height)):i.clearRect(0,0,o.width,o.height),i.drawImage(r,0,0),e.next=15,d.toBlob(o,t.type,n);case 15:return a=e.sent,e.abrupt("return",{blob:a.size>t.size?t:a,width:r.width,height:r.height});case 17:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),d}(i.default);t.default=C},function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";(function(e){var S=n(0)(n(1)),t=function(a){var e=Object.prototype,l=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function s(e,t,n,r){var i,a,s,c,o=t&&t.prototype instanceof p?t:p,u=Object.create(o.prototype),l=new x(r||[]);return u._invoke=(i=e,a=n,s=l,c="suspendedStart",function(e,t){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===e)throw t;return w()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=function e(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=d(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,s);if(r){if(r===f)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===c)throw c="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c="executing";var o=d(i,a,s);if("normal"===o.type){if(c=s.done?"completed":"suspendedYield",o.arg===f)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(c="completed",s.method="throw",s.arg=o.arg)}}),u}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var f={};function p(){}function i(){}function c(){}var u={};u[o]=function(){return this};var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==e&&l.call(g,o)&&(u=g);var m=c.prototype=p.prototype=Object.create(u);function y(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function v(c,u){var t;this._invoke=function(n,r){function e(){return new u(function(e,t){!function t(e,n,r,o){var i=d(c[e],c,n);if("throw"!==i.type){var a=i.arg,s=a.value;return s&&"object"===(0,S.default)(s)&&l.call(s,"__await")?u.resolve(s.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):u.resolve(s).then(function(e){a.value=e,r(a)},function(e){return t("throw",e,r,o)})}o(i.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:w}}function w(){return{value:void 0,done:!0}}return(i.prototype=m.constructor=c).constructor=i,c[r]=i.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(m),e},a.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[n]=function(){return this},a.AsyncIterator=v,a.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new v(s(e,t,n,r),o);return a.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},y(m),m[r]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},a.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),s=l.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,b(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},a}("object"===(0,S.default)(e)?e.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}).call(this,n(3)(e))},function(e,t,n){"use strict";function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return n(e),0}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var r=s.apply(e,a);function o(e){c(r,t,n,o,i,"next",e)}function i(e){c(r,t,n,o,i,"throw",e)}o(void 0)})}}},function(e,t,n){"use strict";e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(n,e,t){"use strict";function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},function(e,t,n){"use strict";var r=n(1),o=n(17);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(t,e,n){"use strict";function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.exports=r},function(e,t,n){"use strict";var r=n(20);e.exports=r},function(e,t,n){"use strict";function r(e){this.options=o.extend(o.clone(u),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId,i.init(this),a.init(this)}var o=n(2),i=n(7),a=n(27),s=n(28),c=n(30),u={AppId:"",SecretId:"",SecretKey:"",XCosSecurityToken:"",ChunkRetryTimes:2,FileParallelLimit:3,ChunkParallelLimit:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,UploadQueueSize:1e4,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadAddMetaMd5:!1,UploadIdCacheLimit:50};s.init(r,a),c.init(r,a),r.getAuthorization=o.getAuth,r.version="0.5.27",e.exports=r},function(e,t,n){"use strict";function s(e,t){var n=a(n=e[0],i=e[1],o=e[2],r=e[3],t[0],7,-680876936),r=a(r,n,i,o,t[1],12,-389564586),o=a(o,r,n,i,t[2],17,606105819),i=a(i,o,r,n,t[3],22,-1044525330);n=a(n,i,o,r,t[4],7,-176418897),r=a(r,n,i,o,t[5],12,1200080426),o=a(o,r,n,i,t[6],17,-1473231341),i=a(i,o,r,n,t[7],22,-45705983),n=a(n,i,o,r,t[8],7,1770035416),r=a(r,n,i,o,t[9],12,-1958414417),o=a(o,r,n,i,t[10],17,-42063),i=a(i,o,r,n,t[11],22,-1990404162),n=a(n,i,o,r,t[12],7,1804603682),r=a(r,n,i,o,t[13],12,-40341101),o=a(o,r,n,i,t[14],17,-1502002290),n=u(n,i=a(i,o,r,n,t[15],22,1236535329),o,r,t[1],5,-165796510),r=u(r,n,i,o,t[6],9,-1069501632),o=u(o,r,n,i,t[11],14,643717713),i=u(i,o,r,n,t[0],20,-373897302),n=u(n,i,o,r,t[5],5,-701558691),r=u(r,n,i,o,t[10],9,38016083),o=u(o,r,n,i,t[15],14,-660478335),i=u(i,o,r,n,t[4],20,-405537848),n=u(n,i,o,r,t[9],5,568446438),r=u(r,n,i,o,t[14],9,-1019803690),o=u(o,r,n,i,t[3],14,-187363961),i=u(i,o,r,n,t[8],20,1163531501),n=u(n,i,o,r,t[13],5,-1444681467),r=u(r,n,i,o,t[2],9,-51403784),o=u(o,r,n,i,t[7],14,1735328473),n=l(n,i=u(i,o,r,n,t[12],20,-1926607734),o,r,t[5],4,-378558),r=l(r,n,i,o,t[8],11,-2022574463),o=l(o,r,n,i,t[11],16,1839030562),i=l(i,o,r,n,t[14],23,-35309556),n=l(n,i,o,r,t[1],4,-1530992060),r=l(r,n,i,o,t[4],11,1272893353),o=l(o,r,n,i,t[7],16,-155497632),i=l(i,o,r,n,t[10],23,-1094730640),n=l(n,i,o,r,t[13],4,681279174),r=l(r,n,i,o,t[0],11,-358537222),o=l(o,r,n,i,t[3],16,-722521979),i=l(i,o,r,n,t[6],23,76029189),n=l(n,i,o,r,t[9],4,-640364487),r=l(r,n,i,o,t[12],11,-421815835),o=l(o,r,n,i,t[15],16,530742520),n=d(n,i=l(i,o,r,n,t[2],23,-995338651),o,r,t[0],6,-198630844),r=d(r,n,i,o,t[7],10,1126891415),o=d(o,r,n,i,t[14],15,-1416354905),i=d(i,o,r,n,t[5],21,-57434055),n=d(n,i,o,r,t[12],6,1700485571),r=d(r,n,i,o,t[3],10,-1894986606),o=d(o,r,n,i,t[10],15,-1051523),i=d(i,o,r,n,t[1],21,-2054922799),n=d(n,i,o,r,t[8],6,1873313359),r=d(r,n,i,o,t[15],10,-30611744),o=d(o,r,n,i,t[6],15,-1560198380),i=d(i,o,r,n,t[13],21,1309151649),n=d(n,i,o,r,t[4],6,-145523070),r=d(r,n,i,o,t[11],10,-1120210379),o=d(o,r,n,i,t[2],15,718787259),i=d(i,o,r,n,t[9],21,-343485551),e[0]=p(n,e[0]),e[1]=p(i,e[1]),e[2]=p(o,e[2]),e[3]=p(r,e[3])}function c(e,t,n,r,o,i){return t=p(p(t,e),p(r,i)),p(t<<o|t>>>32-o,n)}function a(e,t,n,r,o,i,a){return c(t&n|~t&r,e,t,o,i,a)}function u(e,t,n,r,o,i,a){return c(t&r|n&~r,e,t,o,i,a)}function l(e,t,n,r,o,i,a){return c(t^n^r,e,t,o,i,a)}function d(e,t,n,r,o,i,a){return c(n^(t|~r),e,t,o,i,a)}var f="0123456789abcdef".split("");var p=function(e,t){return e+t&4294967295};function r(){var a={state:[1732584193,-271733879,-1732584194,271733878],tail:"",size:0,update:function(e,t){t||(e=unescape(encodeURIComponent(e))),a.size+=e.length,e=a.tail+e;for(var n=a.state,r=64;r<=e.length;r+=64)s(n,function(e){for(var t=[],n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}(e.substring(r-64,r)));return a.tail=e.substring(r-64),a}};return a.digest=function(e){for(var t=a.size,n=a.state,r=a.tail,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<r.length;i++)o[i>>2]|=r.charCodeAt(i)<<(i%4<<3);if(o[i>>2]|=128<<(i%4<<3),55<i)for(s(n,o),i=0;i<16;i++)o[i]=0;return o[14]=8*t,s(n,o),function(e){for(var t=0;t<e.length;t++)e[t]=function(e){for(var t="",n=0;n<4;n++)t+=f[e>>8*n+4&15]+f[e>>8*n&15];return t}(e[t]);return e.join("")}(n)},a}function o(e,t){return r().update(e,t).digest("hex")}"5d41402abc4b2a76b9719d911017c592"!==o("hello")&&(p=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),o.getCtx=r,e.exports=o},function(e,t,s){"use strict";(function(e){var t,l,u,n=s(0)(s(1)),r=function(s){function n(){}var e={},t=e.lib={},r=t.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||i).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var o=0;o<e;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else if(65535<n.length)for(o=0;o<e;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),o=e.enc={},i=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},a=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},l=t.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,o=this.blockSize,i=r/(4*o);if(e=(i=e?s.ceil(i):s.max((0|i)-this._minBufferSize,0))*o,r=s.min(4*e,r),e){for(var a=0;a<e;a+=o)this._doProcessBlock(n,a);a=n.splice(0,e),t.sigBytes-=r}return new c.init(a,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});t.Hasher=l.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new d.HMAC.init(n,t).finalize(e)}}});var d=e.algo={};return e}(Math),o=(a=(t=r).lib).WordArray,i=a.Hasher,d=[],a=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n,r=this._hash.words,o=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=0;u<80;u++){u<16?d[u]=0|e[t+u]:(n=d[u-3]^d[u-8]^d[u-14]^d[u-16],d[u]=n<<1|n>>>31),n=(o<<5|o>>>27)+c+d[u],n=u<20?n+(1518500249+(i&a|~i&s)):u<40?n+(1859775393+(i^a^s)):u<60?n+((i&a|i&s|a&s)-1894007588):n+((i^a^s)-899497514),c=s,s=a,a=i<<30|i>>>2,i=o,o=n}r[0]=r[0]+o|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(64+r>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+r>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a),u=r.enc.Utf8,r.algo.HMAC=r.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=u.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),i=this._iKey=t.clone(),a=o.words,s=i.words,c=0;c<n;c++)a[c]^=1549556828,s[c]^=909522486;o.sigBytes=i.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),l=r.lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t,n=e.length,r=this._map,o=r.charAt(64);!o||-1!=(t=e.indexOf(o))&&(n=t);for(var i,a,s=[],c=0,u=0;u<n;u++){u%4&&(i=r.indexOf(e.charAt(u-1))<<u%4*2,a=r.indexOf(e.charAt(u))>>>6-u%4*2,s[c>>>2]|=(i|a)<<24-c%4*8,c++)}return l.create(s,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},"object"===(0,n.default)(e)?e.exports=r:window.CryptoJS=r}).call(this,s(3)(e))},function(e,t,n){"use strict";var r=n(24).DOMParser,f=function(){this.version="1.3.5";var l={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},d=new RegExp(/(?!xmlns)^.*:/);return new RegExp(/^\s+|\s+$/g),this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var n=this.stringToXML(e);return n.getElementsByTagName("parsererror").length?null:this.parseXML(n,t)}return null},this.parseXML=function(e,t){for(var n in t)l[n]=t[n];var r={},o=0,i="";if(e.childNodes.length)for(var a,s,c,u=0;u<e.childNodes.length;u++)4===(a=e.childNodes.item(u)).nodeType?l.mergeCDATA&&(i+=a.nodeValue):3===a.nodeType?i+=a.nodeValue:1===a.nodeType&&(0===o&&(r={}),s=l.stripElemPrefix?a.nodeName.replace(d,""):a.nodeName,c=f.parseXML(a),r.hasOwnProperty(s)?(r[s].constructor!==Array&&(r[s]=[r[s]]),r[s].push(c)):(r[s]=c,o++));return Object.keys(r).length||(r=i||""),r},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new r).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(e){return null}},this}.call({});e.exports=function(e){return f.parseString(e)}},function(e,t,n){"use strict";function r(e){this.options=e||{locator:{}}}function u(){this.cdata=!1}function l(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function d(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function o(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function f(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new p,a=n.domBuilder||new u,o=n.errorHandler,i=n.locator,s=n.xmlns||{},c={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return i&&a.setDocumentLocator(i),r.errorHandler=function(r,o){if(!r){if(a instanceof u)return a;r=a}var e={},i=r instanceof Function;function t(t){var n=r[t];!n&&i&&(n=2==r.length?function(e){r(t,e)}:r),e[t]=n?function(e){n("[xmldom "+t+"]\t"+e+d(o))}:function(){}}return o=o||{},t("warning"),t("error"),t("fatalError"),e}(o,i),r.domBuilder=n.domBuilder||a,/\/x?html?$/.test(t)&&(c.nbsp="",c.copy="",s[""]="http://www.w3.org/1999/xhtml"),s.xml=s.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,s,c):r.errorHandler.error("invalid doc source"),a.doc},u.prototype={startDocument:function(){this.doc=(new i).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,i=o.createElementNS(e,n||t),a=r.length;f(this,i),this.currentElement=i,this.locator&&l(this.locator,i);for(var s=0;s<a;s++){e=r.getURI(s);var c=r.getValue(s),u=(n=r.getQName(s),o.createAttributeNS(e,n));this.locator&&l(r.getLocator(s),u),u.value=u.nodeValue=c,i.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&l(this.locator,n),f(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){var r;(e=o.apply(this,arguments))&&(r=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&l(this.locator,r))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=o.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&l(this.locator,r),f(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r,o=this.doc.implementation;o&&o.createDocumentType&&(r=o.createDocumentType(e,t,n),this.locator&&l(this.locator,r),f(this,r))},warning:function(e){},error:function(e){},fatalError:function(e){throw e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){u.prototype[e]=function(){return null}});var p=n(25).XMLReader,i=t.DOMImplementation=n(6).DOMImplementation;t.XMLSerializer=n(6).XMLSerializer,t.DOMParser=r},function(e,t,n){"use strict";var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+r.source+o.source+"*(?::"+r.source+o.source+"*)?$");function a(){}function D(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function L(e,t,n){for(var r,o=e.tagName,i=null,a=e.length;a--;){var s,c,u=e[a],l=u.qName,d=u.value,f=0<(r=l.indexOf(":"))?(s=u.prefix=l.slice(0,r),c=l.slice(r+1),"xmlns"===s&&c):(s=null,"xmlns"===(c=l)&&"");u.localName=c,!1!==f&&(null==i&&(i={},h(n,n={})),n[f]=i[f]=d,u.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,d))}for(a=e.length;a--;)(s=(u=e[a]).prefix)&&("xml"===s&&(u.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==s&&(u.uri=n[s||""]));c=0<(r=o.indexOf(":"))?(s=e.prefix=o.slice(0,r),e.localName=o.slice(r+1)):(s=null,e.localName=o);var p=e.uri=n[s||""];if(t.startElement(p,c,o,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,1;if(t.endElement(p,c,o),i)for(s in i)t.endPrefixMapping(s)}function h(e,t){for(var n in e)t[n]=e[n]}function M(e){}function s(e,t){return e.__proto__=t,e}a.prototype={parse:function(e,I,t){var n=this.domBuilder;n.startDocument(),h(I,I={}),function(n,r,o,i){function a(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?function(e){if(65535<e){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function e(e){var t;v<e&&(t=n.substring(v,e).replace(/&#?\w+;/g,a),g&&s(v),o.characters(t,0,e-v),v=e)}function s(e,t){for(;p<=e&&(t=h.exec(n));)f=t.index,p=f+t[0].length,g.lineNumber++;g.columnNumber=e-f+1}for(var t,c,u,l,d,f=0,p=0,h=/.*(?:\r\n?|\n)|.*$/g,g=o.locator,m=[{currentNSMap:I}],y={},v=0;;){try{var C,b,x=n.indexOf("<",v);if(x<0)return n.substr(v).match(/^\s*$/)||(b=(C=o.doc).createTextNode(n.substr(v)),C.appendChild(b),o.currentElement=b);switch(v<x&&e(x),n.charAt(x+1)){case"/":var k=n.indexOf(">",x+3),w=n.substring(x+2,k),S=m.pop();k<0?(w=n.substring(x+2).replace(/[\s<].*/,""),i.error("end tag name: "+w+" is not complete:"+S.tagName),k=x+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),i.error("end tag name: "+w+" maybe not complete"),k=x+1+w.length);var T=S.localNSMap,R=S.tagName==w;if(R||S.tagName&&S.tagName.toLowerCase()==w.toLowerCase()){if(o.endElement(S.uri,S.localName,w),T)for(var A in T)o.endPrefixMapping(A);R||i.fatalError("end tag name: "+w+" is not match the current start tagName:"+S.tagName)}else m.push(S);k++;break;case"?":g&&s(x),k=function(e,t,n){var r=e.indexOf("?>",t);if(r){var o=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,n.processingInstruction(o[1],o[2]),r+2):-1}return-1}(n,x,o);break;case"!":g&&s(x),k=function(e,o,t,n){switch(e.charAt(o+2)){case"-":return"-"===e.charAt(o+3)?(r=e.indexOf("--\x3e",o+4))>o?(t.comment(e,o+4,r-o-4),r+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(o+3,6)){var r=e.indexOf("]]>",o+9);return t.startCDATA(),t.characters(e,o+9,r-o-9),t.endCDATA(),r+3}var i=function(e){var t,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=o,r.exec(e);t=r.exec(e);)if(n.push(t),t[1])return n}(e),a=i.length;if(1<a&&/!doctype/i.test(i[0][0])){var s=i[1][0],c=3<a&&/^public$/i.test(i[2][0])&&i[3][0],u=4<a&&i[4][0],l=i[a-1];return t.startDTD(s,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),t.endDTD(),l.index+l[0].length}}return-1}(n,x,o,i);break;default:g&&s(x);var E=new M,_=m[m.length-1].currentNSMap,B=(k=function(e,t,n,r,o,i){for(var a,s=++t,c=0;;){var u=e.charAt(s);switch(u){case"=":if(1===c)a=e.slice(t,s),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(i.warning('attribute value must after "="'),a=e.slice(t,s)),t=s+1,!(0<(s=e.indexOf(u,t))))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,l,t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');l=e.slice(t,s).replace(/&#?\w+;/g,o),n.add(a,l,t),i.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=s+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,s)),s;case">":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=e.slice(t,s)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case 2:2===c&&(l=a),4==c?(i.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),n.add(l,l,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"":u=" ";default:if(u<=" ")switch(c){case 0:n.setTagName(e.slice(t,s)),c=6;break;case 1:a=e.slice(t,s),c=2;break;case 4:var l=e.slice(t,s).replace(/&#?\w+;/g,o);i.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l,t);case 5:c=6}else switch(c){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,c=1;break;case 5:i.warning('attribute space is required"'+a+'"!!');case 6:c=1,t=s;break;case 3:c=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}(n,x,E,_,a,i),E.length);if(!E.closed&&(t=n,c=k,u=E.tagName,d=void 0,null==(d=(l=y)[u])&&((d=t.lastIndexOf("</"+u+">"))<c&&(d=t.lastIndexOf("</"+u)),l[u]=d),d<c)&&(E.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),g&&B){for(var P=D(g,{}),N=0;N<B;N++){var O=E[N];s(O.offset),O.locator=D(g,{})}o.locator=P,L(E,o,_)&&m.push(E),o.locator=g}else L(E,o,_)&&m.push(E);"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?k++:k=function(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),a=e.substring(t+1,i);if(/[&<]/.test(a))return/^script$/i.test(n)||(a=a.replace(/&#?\w+;/g,r)),o.characters(a,0,a.length),i}return t+1}(n,k,E.tagName,a,o)}}catch(n){i.error("element parse error: "+n),k=-1}v<k?v=k:e(Math.max(x,v)+1)}}(e,t,n,this.errorHandler),n.endDocument()}},M.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},s({},s.prototype),t.XMLReader=a},function(e,t,n){"use strict";function o(e,u){function l(e,t,n,r,o){var i=void 0!==u.indent?u.indent:"\t",a=u.prettyPrint?"\n"+new Array(r).join(i):"";u.removeIllegalNameCharacters&&(e=e.replace(c,"_"));var s=[a,"<",e,n||""];return t&&0<t.length?(s.push(">"),s.push(t),o&&s.push(a),s.push("</"),s.push(e),s.push(">")):s.push("/>"),s.join("")}return function t(e,n,r){var o=(0,d.default)(e);switch((Array.isArray?Array.isArray(e):e instanceof Array)?o="array":e instanceof Date&&(o="date"),o){case"array":var i=[];return e.map(function(e){i.push(t(e,0,r+1))}),u.prettyPrint&&i.push("\n"),i.join("");case"date":return e.toJSON?e.toJSON():e+"";case"object":var a=[];for(var s in e)if(e.hasOwnProperty(s))if(e[s]instanceof Array)for(var c=0;c<e[s].length;c++)e[s].hasOwnProperty(c)&&a.push(l(s,t(e[s][c],0,r+1),null,r+1,function(e){var t=[];if(e instanceof Object)for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}(e[s][c]).length));else a.push(l(s,t(e[s],0,r+1),null,r+1));return u.prettyPrint&&0<a.length&&a.push("\n"),a.join("");case"function":return e();default:return u.escape?(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(f,""):""+e}}(e,0,0)}function i(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")}var d=n(0)(n(1)),c=new RegExp("^([^a-zA-Z_-----------])|^((x|X)(m|M)(l|L))|([^a-zA-Z_------------.0-9-])","g"),f=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm;e.exports=function(e,t){if(t=t||{xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0},"string"==typeof e)try{e=JSON.parse(e.toString())}catch(e){return!1}var n="",r="";return t&&("object"==(0,d.default)(t)?(t.xmlHeader&&(n=i(!!t.xmlHeader.standalone)),void 0!==t.docType&&(r="<!DOCTYPE "+t.docType+">")):n=i()),[n,(t=t||{}).prettyPrint&&r?"\n":"",r,o(e,t)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},function(e,t,n){"use strict";var s=n(8),h=n(2),i={};e.exports.transferToTaskMethod=function(e,n){i[n]=e[n],e[n]=function(e,t){e.SkipTask?i[n].call(this,e,t):this._addTask(n,e,t)}},e.exports.init=function(c){function t(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),e._custom&&(t._custom=e._custom),t}function u(){if(!(d.length<=c.options.UploadQueueSize)){for(var e=0;e<o&&e<d.length&&d.length>c.options.UploadQueueSize;){var t="waiting"===d[e].state||"checking"===d[e].state||"uploading"===d[e].state;d[e]&&t?e++:(f[d[e].id]&&delete f[d[e].id],d.splice(e,1),o--)}p()}}function l(){if(!(a>=c.options.FileParallelLimit)){for(;d[o]&&"waiting"!==d[o].state;)o++;var n,e;o>=d.length||(n=d[o],o++,a++,n.state="checking",n.params.onTaskStart&&n.params.onTaskStart(t(n)),n.params.UploadData||(n.params.UploadData={}),e=h.formatParams(n.api,n.params),i[n.api].call(c,e,function(e,t){c._isRunningTask(n.id)&&("checking"!==n.state&&"uploading"!==n.state||(n.state=e?"error":"success",e&&(n.error=e),a--,p(),l(),n.callback&&n.callback(e,t),"success"===n.state&&(n.params&&(delete n.params.UploadData,delete n.params.Body,delete n.params),delete n.callback)),u())}),p(),setTimeout(l))}}function n(e,t){var n=f[e];if(n){var r=n&&"waiting"===n.state,o=n&&("checking"===n.state||"uploading"===n.state);if("canceled"===t&&"canceled"!==n.state||"paused"===t&&r||"paused"===t&&o){if("paused"===t&&n.params.Body&&"function"==typeof n.params.Body.pipe)return;n.state=t,c.emit("inner-kill-task",{TaskId:e,toState:t});try{var i=n&&n.params&&n.params.UploadData.UploadId}catch(e){}"canceled"===t&&i&&s.removeUsing(i),p(),o&&(a--,l()),"canceled"===t&&(n.params&&(delete n.params.UploadData,delete n.params.Body,delete n.params),delete n.callback)}u()}}var e,r,d=[],f={},a=0,o=0,p=(r=function(){e=0,c.emit("task-list-update",{list:h.map(d,t)}),c.emit("list-update",{list:h.map(d,t)})},function(){e=e||setTimeout(r)});c._addTasks=function(e){h.each(e,function(e){c._addTask(e.api,e.params,e.callback,!0)}),p()};c._addTask=function(e,t,n,r){t=h.formatParams(e,t);var o=h.uuid();t.TaskId=o,t.onTaskReady&&t.onTaskReady(o),t.TaskReady&&(t.TaskReady(o),0);var i={params:t,callback:n,api:e,index:d.length,id:o,Bucket:t.Bucket,Region:t.Region,Key:t.Key,FilePath:t.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null,_custom:t._custom},a=t.onHashProgress;t.onHashProgress=function(e){c._isRunningTask(i.id)&&(i.hashPercent=e.percent,a&&a(e),p())};var s=t.onProgress;return t.onProgress=function(e){c._isRunningTask(i.id)&&("checking"===i.state&&(i.state="uploading"),i.loaded=e.loaded,i.speed=e.speed,i.percent=e.percent,s&&s(e),p())},h.getFileSize(e,t,function(e,t){e?n(e):(f[o]=i,d.push(i),i.size=t,r||p(),l(),u())}),o},c._isRunningTask=function(e){var t=f[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},c.getTaskList=function(){return h.map(d,t)},c.cancelTask=function(e){n(e,"canceled")},c.pauseTask=function(e){n(e,"paused")},c.restartTask=function(e){var t=f[e];!t||"paused"!==t.state&&"error"!==t.state||(t.state="waiting",p(),o=Math.min(o,t.index),l())},c.isUploadRunning=function(){return a||o<d.length}}},function(e,t,n){"use strict";var m=n(29),y=n(2);function s(t){var n={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},r={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},e=(e=(t&&t.AccessControlList||{}).Grant)&&(y.isArray(e)?e:[e]),o={READ:0,WRITE:0,FULL_CONTROL:0};return e&&e.length&&y.each(e,function(e){"qcs::cam::anyone:anyone"===e.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===e.Grantee.URI?o[e.Permission]=1:e.Grantee.ID!==t.Owner.ID&&n[r[e.Permission]].push('id="'+e.Grantee.ID+'"')}),o.FULL_CONTROL||o.WRITE&&o.READ?n.ACL="public-read-write":o.READ?n.ACL="public-read":n.ACL="private",y.each(r,function(e){n[e]=a(n[e].join(","))}),n}function a(e){for(var t,n=e.split(","),r={},o=0;o<n.length;)r[t=n[o].trim()]?n.splice(o,1):(r[t]=!0,n[o]=t,o++);return n.join(",")}function v(e){var t=e.bucket,n=t.substr(0,t.lastIndexOf("-")),r=t.substr(t.lastIndexOf("-")+1),o=e.domain,i=e.region,a=e.object,s=e.protocol||(y.isBrowser&&"http:"===location.protocol?"http:":"https:");o||(o=-1<["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(i)?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(o="{Bucket}."+o)),o=(o=o.replace(/\{\{AppId\}\}/gi,r).replace(/\{\{Bucket\}\}/gi,n).replace(/\{\{Region\}\}/gi,i).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,r).replace(/\{BucketName\}/gi,n).replace(/\{Bucket\}/gi,t).replace(/\{Region\}/gi,i).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(o)||(o=s+"//"+o),"/"===o.slice(-1)&&(o=o.slice(0,-1));var c=o;return e.ForcePathStyle&&(c+="/"+t),c+="/",a&&(c+=y.camSafeUrlEncode(a).replace(/%2F/g,"/")),e.isLocation&&(c=c.replace(/^https?:\/\//,"")),c}function c(n,r){var o=y.clone(n.Headers);delete o["Content-Type"],delete o["Cache-Control"],y.each(o,function(e,t){""===e&&delete o[t]});function i(e){var t=!1,n=e.Authorization;if(n)if(-1<n.indexOf(" "))t=!1;else if(-1<n.indexOf("q-sign-algorithm=")&&-1<n.indexOf("q-ak=")&&-1<n.indexOf("q-sign-time=")&&-1<n.indexOf("q-key-time=")&&-1<n.indexOf("q-url-param-list="))t=!0;else try{-1<(n=atob(n)).indexOf("a=")&&-1<n.indexOf("k=")&&-1<n.indexOf("t=")&&-1<n.indexOf("r=")&&-1<n.indexOf("b=")&&(t=!0)}catch(e){}t?r&&r(null,e):r&&r("authorization error")}var a=this,e=n.Bucket||"",t=n.Region||"",s=n.Key||"";a.options.ForcePathStyle&&e&&(s=e+"/"+s);var c,u,l="/"+s,d={},f=n.Scope;f||(c=n.Action||"",u=n.ResourceKey||n.Key||"",f=n.Scope||[{action:c,bucket:e,region:t,prefix:u}]);var p=y.md5(JSON.stringify(f));a._StsCache=a._StsCache||[],function(){for(var e,t=a._StsCache.length-1;0<=t;t--){e=a._StsCache[t];var n=Math.round(y.getSkewTime(a.options.SystemClockOffset)/1e3)+30;if(e.StartTime&&n<e.StartTime||n>=e.ExpiredTime)a._StsCache.splice(t,1);else if(!e.ScopeLimit||e.ScopeLimit&&e.ScopeKey===p){d=e;break}}}();function h(){var e=d.StartTime&&d.ExpiredTime?d.StartTime+";"+d.ExpiredTime:"",t={Authorization:y.getAuth({SecretId:d.TmpSecretId,SecretKey:d.TmpSecretKey,Method:n.Method,Pathname:l,Query:n.Query,Headers:o,Expires:n.Expires,UseRawKey:a.options.UseRawKey,SystemClockOffset:a.options.SystemClockOffset,KeyTime:e}),XCosSecurityToken:d.XCosSecurityToken||"",Token:d.Token||"",ClientIP:d.ClientIP||"",ClientUA:d.ClientUA||""};i(t)}var g;if(d.ExpiredTime&&60<d.ExpiredTime-y.getSkewTime(a.options.SystemClockOffset)/1e3)h();else if(a.options.getAuthorization)a.options.getAuthorization.call(a,{Bucket:e,Region:t,Method:n.Method,Key:s,Pathname:l,Query:n.Query,Headers:o,Scope:f},function(e){"string"==typeof e&&(e={Authorization:e}),e.TmpSecretId&&e.TmpSecretKey&&e.XCosSecurityToken&&e.ExpiredTime?((d=e||{}).Scope=f,d.ScopeKey=p,a._StsCache.push(d),h()):i(e)});else{if(!a.options.getSTS)return g={Authorization:y.getAuth({SecretId:n.SecretId||a.options.SecretId,SecretKey:n.SecretKey||a.options.SecretKey,Method:n.Method,Pathname:l,Query:n.Query,Headers:o,Expires:n.Expires,UseRawKey:a.options.UseRawKey,SystemClockOffset:a.options.SystemClockOffset}),XCosSecurityToken:a.options.XCosSecurityToken},i(g),g;a.options.getSTS.call(a,{Bucket:e,Region:t},function(e){(d=e||{}).Scope=f,d.ScopeKey=p,d.TmpSecretId=d.SecretId,d.TmpSecretKey=d.SecretKey,a._StsCache.push(d),h()})}return""}function u(i,a){var s=this;i.headers||(i.headers={}),i.qs||(i.qs={}),i.VersionId&&(i.qs.versionId=i.VersionId),i.qs=y.clearKey(i.qs),i.headers&&(i.headers=y.clearKey(i.headers)),i.qs&&(i.qs=y.clearKey(i.qs));var e=y.clone(i.qs);i.action&&(e[i.action]=""),function n(r){var o=s.options.SystemClockOffset;c.call(s,{Bucket:i.Bucket||"",Region:i.Region||"",Method:i.method,Key:i.Key,Query:e,Headers:i.headers,Action:i.Action,ResourceKey:i.ResourceKey,Scope:i.Scope},function(e,t){e?a(e):(i.AuthData=t,function(n,s){var c=this,u=n.TaskId;{var e,t,r,o,i,a,l,d,f,p,h,g;u&&!c._isRunningTask(u)||(e=n.Bucket,t=n.Region,r=n.Key,o=n.method||"GET",i=n.url,a=n.body,l=n.json,d=n.rawBody,i=i||v({ForcePathStyle:c.options.ForcePathStyle,protocol:c.options.Protocol,domain:c.options.Domain,bucket:e,region:t,object:r}),n.action&&(i=i+"?"+n.action),(f={method:o,url:i,headers:n.headers,qs:n.qs,body:a,json:l}).headers.Authorization=n.AuthData.Authorization,n.AuthData.Token&&(f.headers.token=n.AuthData.Token),n.AuthData.ClientIP&&(f.headers.clientIP=n.AuthData.ClientIP),n.AuthData.ClientUA&&(f.headers.clientUA=n.AuthData.ClientUA),n.AuthData.XCosSecurityToken&&(f.headers["x-cos-security-token"]=n.AuthData.XCosSecurityToken),f.headers&&(f.headers=y.clearKey(f.headers)),f=y.clearKey(f),n.onProgress&&"function"==typeof n.onProgress&&(p=a&&(a.size||a.length)||0,f.onProgress=function(e){var t;u&&!c._isRunningTask(u)||(t=e?e.loaded:0,n.onProgress({loaded:t,total:p}))}),this.options.Timeout&&(f.timeout=this.options.Timeout),c.emit("before-send",f),h=m(f,function(e,r,t){if("abort"!==e){var o,n,i=function(e,t){var n;u&&c.off("inner-kill-task",g),o||(o=!0,n={},r&&r.statusCode&&(n.statusCode=r.statusCode),r&&r.headers&&(n.headers=r.headers),e?(e=y.extend(e||{},n),s(e,null)):(t=y.extend(t||{},n),s(null,t)),h=null)};if(e)i({error:e});else{if(d)(n={}).body=t;else try{n=t&&-1<t.indexOf("<")&&-1<t.indexOf(">")&&y.xml2json(t)||{}}catch(e){n=t||{}}var a=r.statusCode;2===Math.floor(a/100)?n.Error?i({error:n.Error}):i(null,n):i({error:n.Error||n})}}}),g=function e(t){t.TaskId===u&&(h&&h.abort&&h.abort(),c.off("inner-kill-task",e))},u&&c.on("inner-kill-task",g))}}.call(s,i,function(e,t){e&&r<2&&(o!==s.options.SystemClockOffset||function(e){var t,n=!1,r=!1,o=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var i=e.error.Code,a=e.error.Message;("RequestTimeTooSkewed"===i||"AccessDenied"===i&&"Request has expired"===a)&&(r=!0)}catch(e){}return e&&(r&&o?(t=Date.parse(o),this.options.CorrectClockSkew&&3e4<=Math.abs(y.getSkewTime(this.options.SystemClockOffset)-t)&&(this.options.SystemClockOffset=t-Date.now(),n=!0)):5===Math.round(e.statusCode/100)&&(n=!0)),n}.call(s,e))?(i.headers&&(delete i.headers.Authorization,delete i.headers.token,delete i.headers.clientIP,delete i.headers.clientUA,delete i.headers["x-cos-security-token"]),n(r+1)):a(e,t)}))})}(1)}var r={getService:function(e,o){"function"==typeof e&&(o=e,e={});var t=this.options.Protocol||(y.isBrowser&&"http:"===location.protocol?"http:":"https:"),n=this.options.ServiceDomain,r=e.Region;n?(n=n.replace(/\{Region\}/gi,r||"").replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(n)||(n=t+"//"+n),"/"===n.slice(-1)&&(n=n.slice(0,-1))):n=r?t+"//cos."+r+".myqcloud.com":t+"//service.cos.myqcloud.com",u.call(this,{Action:"name/cos:GetService",url:n,method:"GET",headers:e.Headers},function(e,t){if(e)return o(e);var n=t&&t.ListAllMyBucketsResult&&t.ListAllMyBucketsResult.Buckets&&t.ListAllMyBucketsResult.Buckets.Bucket||[],n=y.isArray(n)?n:[n],r=t&&t.ListAllMyBucketsResult&&t.ListAllMyBucketsResult.Owner||{};o(null,{Buckets:n,Owner:r,statusCode:t.statusCode,headers:t.headers})})},putBucket:function(r,o){var i=this;u.call(this,{Action:"name/cos:PutBucket",method:"PUT",Bucket:r.Bucket,Region:r.Region,headers:r.Headers},function(e,t){if(e)return o(e);var n=v({protocol:i.options.Protocol,domain:i.options.Domain,bucket:r.Bucket,region:r.Region,isLocation:!0});o(null,{Location:n,statusCode:t.statusCode,headers:t.headers})})},headBucket:function(e,n){u.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},function(e,t){n(e,t)})},getBucket:function(e,a){var t={};t.prefix=e.Prefix||"",t.delimiter=e.Delimiter,t.marker=e.Marker,t["max-keys"]=e.MaxKeys,t["encoding-type"]=e.EncodingType,u.call(this,{Action:"name/cos:GetBucket",ResourceKey:t.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:t},function(e,t){if(e)return a(e);var n=t.ListBucketResult||{},r=n.Contents||[],o=n.CommonPrefixes||[],r=y.isArray(r)?r:[r],o=y.isArray(o)?o:[o],i=y.clone(n);y.extend(i,{Contents:r,CommonPrefixes:o,statusCode:t.statusCode,headers:t.headers}),a(null,i)})},deleteBucket:function(e,n){u.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},putBucketAcl:function(e,n){var t,r,o=e.Headers,i="";e.AccessControlPolicy&&(r=(t=y.clone(e.AccessControlPolicy||{})).Grants||t.Grant,r=y.isArray(r)?r:[r],delete t.Grant,delete t.Grants,t.AccessControlList={Grant:r},i=y.json2xml({AccessControlPolicy:t}),o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(i))),y.each(o,function(e,t){0===t.indexOf("x-cos-grant-")&&(o[t]=a(o[t]))}),u.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:o,action:"acl",body:i},function(e,t){return e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getBucketAcl:function(e,a){u.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(e,t){if(e)return a(e);var n=t.AccessControlPolicy||{},r=n.Owner||{},o=n.AccessControlList.Grant||[],o=y.isArray(o)?o:[o],i=s(n);t.headers&&t.headers["x-cos-acl"]&&(i.ACL=t.headers["x-cos-acl"]),i=y.extend(i,{Owner:r,Grants:o,statusCode:t.statusCode,headers:t.headers}),a(null,i)})},putBucketCors:function(e,n){var t=(e.CORSConfiguration||{}).CORSRules||e.CORSRules||[],t=y.clone(y.isArray(t)?t:[t]);y.each(t,function(o){y.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(e,t){var n=e+"s",r=o[n]||o[e]||[];delete o[n],o[e]=y.isArray(r)?r:[r]})});var r=y.json2xml({CORSConfiguration:{CORSRule:t}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(r)),u.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"cors",headers:o},function(e,t){return e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getBucketCors:function(e,i){u.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,t){var n,r,o;e?404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code?(n={CORSRules:[],statusCode:e.statusCode},e.headers&&(n.headers=e.headers),i(null,n)):i(e):(o=(r=t.CORSConfiguration||{}).CORSRules||r.CORSRule||[],o=y.clone(y.isArray(o)?o:[o]),y.each(o,function(o){y.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(e,t){var n=e+"s",r=o[n]||o[e]||[];delete o[e],o[n]=y.isArray(r)?r:[r]})}),i(null,{CORSRules:o,statusCode:t.statusCode,headers:t.headers}))})},deleteBucketCors:function(e,n){u.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode||e.statusCode,headers:t.headers})})},getBucketLocation:function(e,n){u.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},function(e,t){return e?n(e):void n(null,t)})},getBucketPolicy:function(e,r){u.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(e,t){if(e)return e.statusCode&&403===e.statusCode?r({ErrorStatus:"Access Denied"}):e.statusCode&&405===e.statusCode?r({ErrorStatus:"Method Not Allowed"}):e.statusCode&&404===e.statusCode?r({ErrorStatus:"Policy Not Found"}):r(e);var n={};try{n=JSON.parse(t.body)}catch(e){}r(null,{Policy:n,statusCode:t.statusCode,headers:t.headers})})},putBucketPolicy:function(e,n){var t=e.Policy,r=t;try{"string"==typeof t?t=JSON.parse(r):r=JSON.stringify(t)}catch(e){n({error:"Policy format error"})}var o=e.Headers;o["Content-Type"]="application/json",o["Content-MD5"]=y.binaryBase64(y.md5(r)),u.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:y.isBrowser?r:t,headers:o,json:!0},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},deleteBucketPolicy:function(e,n){u.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode||e.statusCode,headers:t.headers})})},putBucketTagging:function(e,n){var t=e.Tagging||{},r=t.TagSet||t.Tags||e.Tags||[],r=y.clone(y.isArray(r)?r:[r]),o=y.json2xml({Tagging:{TagSet:{Tag:r}}}),i=e.Headers;i["Content-Type"]="application/xml",i["Content-MD5"]=y.binaryBase64(y.md5(o)),u.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"tagging",headers:i},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getBucketTagging:function(e,o){u.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,t){if(e){var n;404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code?o(e):(n={Tags:[],statusCode:e.statusCode},e.headers&&(n.headers=e.headers),o(null,n))}else{var r=[];try{r=t.Tagging.TagSet.Tag||[]}catch(e){}r=y.clone(y.isArray(r)?r:[r]),o(null,{Tags:r,statusCode:t.statusCode,headers:t.headers})}})},deleteBucketTagging:function(e,n){u.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},putBucketLifecycle:function(e,n){var t=(e.LifecycleConfiguration||{}).Rules||e.Rules||[],t=y.clone(t),r=y.json2xml({LifecycleConfiguration:{Rule:t}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(r)),u.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"lifecycle",headers:o},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getBucketLifecycle:function(e,o){u.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,t){if(e){var n;404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code?(n={Rules:[],statusCode:e.statusCode},e.headers&&(n.headers=e.headers),o(null,n)):o(e)}else{var r=[];try{r=t.LifecycleConfiguration.Rule||[]}catch(e){}r=y.clone(y.isArray(r)?r:[r]),o(null,{Rules:r,statusCode:t.statusCode,headers:t.headers})}})},deleteBucketLifecycle:function(e,n){u.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},putBucketVersioning:function(e,n){var t,r,o;e.VersioningConfiguration?(t=e.VersioningConfiguration||{},r=y.json2xml({VersioningConfiguration:t}),(o=e.Headers)["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(r)),u.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"versioning",headers:o},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})):n({error:"missing param VersioningConfiguration"})},getBucketVersioning:function(e,n){u.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(e,t){e||(t.VersioningConfiguration||(t.VersioningConfiguration={})),n(e,t)})},putBucketReplication:function(e,n){var t=y.clone(e.ReplicationConfiguration),r=(r=(r=y.json2xml({ReplicationConfiguration:t})).replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>"),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(r)),u.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:r,action:"replication",headers:o},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getBucketReplication:function(e,r){u.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,t){var n;e?404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code?r(e):(n={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode},e.headers&&(n.headers=e.headers),r(null,n)):(e||(t.ReplicationConfiguration||(t.ReplicationConfiguration={})),t.ReplicationConfiguration.Rule&&(t.ReplicationConfiguration.Rules=t.ReplicationConfiguration.Rule,delete t.ReplicationConfiguration.Rule),r(e,t))})},deleteBucketReplication:function(e,n){u.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},putBucketWebsite:function(e,n){var t,r,o,i;e.WebsiteConfiguration?(r=(t=y.clone(e.WebsiteConfiguration||{})).RoutingRules||t.RoutingRule||[],r=y.isArray(r)?r:[r],delete t.RoutingRule,delete t.RoutingRules,0<r.length&&(t.RoutingRules={RoutingRule:r}),o=y.json2xml({WebsiteConfiguration:t}),(i=e.Headers)["Content-Type"]="application/xml",i["Content-MD5"]=y.binaryBase64(y.md5(o)),u.call(this,{Action:"name/cos:PutBucketWebsite",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"website",headers:i},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})):n({error:"missing param WebsiteConfiguration"})},getBucketWebsite:function(e,i){u.call(this,{Action:"name/cos:GetBucketWebsite",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"website"},function(e,t){var n,r,o;e?404===e.statusCode&&"NoSuchWebsiteConfiguration"===e.error.Code?(n={WebsiteConfiguration:{},statusCode:e.statusCode},e.headers&&(n.headers=e.headers),i(null,n)):i(e):((r=t.WebsiteConfiguration||{}).RoutingRules&&(o=y.clone(r.RoutingRules.RoutingRule||[]),o=y.makeArray(o),r.RoutingRules=o),i(null,{WebsiteConfiguration:r,statusCode:t.statusCode,headers:t.headers}))})},deleteBucketWebsite:function(e,n){u.call(this,{Action:"name/cos:DeleteBucketWebsite",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"website"},function(e,t){return e&&204===e.statusCode?n(null,{statusCode:e.statusCode}):e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getObject:function(o,i){var e={};e["response-content-type"]=o.ResponseContentType,e["response-content-language"]=o.ResponseContentLanguage,e["response-expires"]=o.ResponseExpires,e["response-cache-control"]=o.ResponseCacheControl,e["response-content-disposition"]=o.ResponseContentDisposition,e["response-content-encoding"]=o.ResponseContentEncoding,u.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:o.Bucket,Region:o.Region,Key:o.Key,VersionId:o.VersionId,headers:o.Headers,qs:e,rawBody:!0},function(e,t){if(e){var n=e.statusCode;return o.Headers["If-Modified-Since"]&&n&&304===n?i(null,{NotModified:!0}):i(e)}var r={};r.Body=t.body,t.headers&&t.headers.etag&&(r.ETag=t.headers&&t.headers.etag),y.extend(r,{statusCode:t.statusCode,headers:t.headers}),i(null,r)})},headObject:function(r,o){u.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:r.Bucket,Region:r.Region,Key:r.Key,VersionId:r.VersionId,headers:r.Headers},function(e,t){if(e){var n=e.statusCode;return r.Headers["If-Modified-Since"]&&n&&304===n?o(null,{NotModified:!0,statusCode:n}):o(e)}t.headers&&t.headers.etag&&(t.ETag=t.headers&&t.headers.etag),o(null,t)})},listObjectVersions:function(e,a){var t={};t.prefix=e.Prefix||"",t.delimiter=e.Delimiter,t["key-marker"]=e.KeyMarker,t["version-id-marker"]=e.VersionIdMarker,t["max-keys"]=e.MaxKeys,t["encoding-type"]=e.EncodingType,u.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:t.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:t,action:"versions"},function(e,t){if(e)return a(e);var n=t.ListVersionsResult||{},r=n.DeleteMarker||[],r=y.isArray(r)?r:[r],o=n.Version||[],o=y.isArray(o)?o:[o],i=y.clone(n);delete i.DeleteMarker,delete i.Version,y.extend(i,{DeleteMarkers:r,Versions:o,statusCode:t.statusCode,headers:t.headers}),a(null,i)})},putObject:function(o,i){var a=this,s=o.ContentLength,c=y.throttleOnProgress.call(a,s,o.onProgress),e=o.Headers;e["Cache-Control"]||(e["Cache-Control"]="");var t=e["Content-Type"]||o.Body&&o.Body.type;!e["Content-Type"]&&t&&(e["Content-Type"]=t);var n=o.UploadAddMetaMd5||a.options.UploadAddMetaMd5||a.options.UploadCheckContentMd5;y.getBodyMd5(n,o.Body,function(e){e&&(a.options.UploadCheckContentMd5&&(o.Headers["Content-MD5"]=y.binaryBase64(e)),(o.UploadAddMetaMd5||a.options.UploadAddMetaMd5)&&(o.Headers["x-cos-meta-md5"]=e)),void 0!==o.ContentLength&&(o.Headers["Content-Length"]=o.ContentLength),c(null,!0),u.call(a,{Action:"name/cos:PutObject",TaskId:o.TaskId,method:"PUT",Bucket:o.Bucket,Region:o.Region,Key:o.Key,headers:o.Headers,body:o.Body,onProgress:c},function(e,t){if(e)return c(null,!0),i(e);if(c({loaded:s,total:s},!0),t){var n=v({ForcePathStyle:a.options.ForcePathStyle,protocol:a.options.Protocol,domain:a.options.Domain,bucket:o.Bucket,region:o.Region,object:o.Key}),r={Location:n=n.substr(n.indexOf("://")+3),statusCode:t.statusCode,headers:t.headers};return t.headers&&t.headers.etag&&(r.ETag=t.headers.etag),i(null,r)}i(null,t)})},o.onHashProgress)},deleteObject:function(e,r){u.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId},function(e,t){if(e){var n=e.statusCode;return n&&204===n?r(null,{statusCode:n}):n&&404===n?r(null,{BucketNotFound:!0,statusCode:n}):r(e)}r(null,{statusCode:t.statusCode,headers:t.headers})})},getObjectAcl:function(e,a){u.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},function(e,t){if(e)return a(e);var n=t.AccessControlPolicy||{},r=n.Owner||{},o=n.AccessControlList&&n.AccessControlList.Grant||[],o=y.isArray(o)?o:[o],i=s(n);t.headers&&t.headers["x-cos-acl"]&&(i.ACL=t.headers["x-cos-acl"]),i=y.extend(i,{Owner:r,Grants:o,statusCode:t.statusCode,headers:t.headers}),a(null,i)})},putObjectAcl:function(e,n){var t,r,o=e.Headers,i="";e.AccessControlPolicy&&(r=(t=y.clone(e.AccessControlPolicy||{})).Grants||t.Grant,r=y.isArray(r)?r:[r],delete t.Grant,delete t.Grants,t.AccessControlList={Grant:r},i=y.json2xml({AccessControlPolicy:t}),o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(i))),y.each(o,function(e,t){0===t.indexOf("x-cos-grant-")&&(o[t]=a(o[t]))}),u.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:o,body:i},function(e,t){return e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},optionsObject:function(e,r){var t=e.Headers;t.Origin=e.Origin,t["Access-Control-Request-Method"]=e.AccessControlRequestMethod,t["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,u.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:t},function(e,t){if(e)return e.statusCode&&403===e.statusCode?r(null,{OptionsForbidden:!0,statusCode:e.statusCode}):r(e);var n=t.headers||{};r(null,{AccessControlAllowOrigin:n["access-control-allow-origin"],AccessControlAllowMethods:n["access-control-allow-methods"],AccessControlAllowHeaders:n["access-control-allow-headers"],AccessControlExposeHeaders:n["access-control-expose-headers"],AccessControlMaxAge:n["access-control-max-age"],statusCode:t.statusCode,headers:t.headers})})},putObjectCopy:function(e,r){var t=e.Headers;t["Cache-Control"]||(t["Cache-Control"]="");var n,o,i,a=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);a?(n=a[1],o=a[3],i=decodeURIComponent(a[4]),u.call(this,{Scope:[{action:"name/cos:GetObject",bucket:n,region:o,prefix:i},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(e,t){if(e)return r(e);var n=y.clone(t.CopyObjectResult||{});y.extend(n,{statusCode:t.statusCode,headers:t.headers}),r(null,n)})):r({error:"CopySource format error"})},deleteMultipleObject:function(t,a){var e=t.Objects||[],n=t.Quiet,e=y.isArray(e)?e:[e],r=y.json2xml({Delete:{Object:e,Quiet:n||!1}}),o=t.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(r));var i=y.map(e,function(e){return{action:"name/cos:DeleteObject",bucket:t.Bucket,region:t.Region,prefix:e.Key}});u.call(this,{Scope:i,method:"POST",Bucket:t.Bucket,Region:t.Region,body:r,action:"delete",headers:o},function(e,t){if(e)return a(e);var n=t.DeleteResult||{},r=n.Deleted||[],o=n.Error||[],r=y.isArray(r)?r:[r],o=y.isArray(o)?o:[o],i=y.clone(n);y.extend(i,{Error:o,Deleted:r,statusCode:t.statusCode,headers:t.headers}),a(null,i)})},restoreObject:function(e,n){var t,r,o=e.Headers;e.RestoreRequest?(t=e.RestoreRequest||{},r=y.json2xml({RestoreRequest:t}),o["Content-Type"]="application/xml",o["Content-MD5"]=y.binaryBase64(y.md5(r)),u.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:r,action:"restore",headers:o},function(e,t){n(e,t)})):n({error:"missing param RestoreRequest"})},uploadPartCopy:function(e,r){var t,n,o,i=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);i?(t=i[1],n=i[3],o=decodeURIComponent(i[4]),u.call(this,{Scope:[{action:"name/cos:GetObject",bucket:t,region:n,prefix:o},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},function(e,t){if(e)return r(e);var n=y.clone(t.CopyPartResult||{});y.extend(n,{statusCode:t.statusCode,headers:t.headers}),r(null,n)})):r({error:"CopySource format error"})},multipartInit:function(t,n){var r=this,e=t.Headers;e["Cache-Control"]||(e["Cache-Control"]=""),y.getBodyMd5(t.Body&&(t.UploadAddMetaMd5||r.options.UploadAddMetaMd5),t.Body,function(e){e&&(t.Headers["x-cos-meta-md5"]=e),u.call(r,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:t.Bucket,Region:t.Region,Key:t.Key,action:"uploads",headers:t.Headers},function(e,t){return e?n(e):(t=y.clone(t||{}))&&t.InitiateMultipartUploadResult?n(null,y.extend(t.InitiateMultipartUploadResult,{statusCode:t.statusCode,headers:t.headers})):void n(null,t)})},t.onHashProgress)},multipartUpload:function(t,n){var r=this;y.getFileSize("multipartUpload",t,function(){y.getBodyMd5(r.options.UploadCheckContentMd5,t.Body,function(e){e&&(t.Headers["Content-MD5"]=y.binaryBase64(e)),u.call(r,{Action:"name/cos:UploadPart",TaskId:t.TaskId,method:"PUT",Bucket:t.Bucket,Region:t.Region,Key:t.Key,qs:{partNumber:t.PartNumber,uploadId:t.UploadId},headers:t.Headers,onProgress:t.onProgress,body:t.Body||null},function(e,t){return e?n(e):(t.headers=t.headers||{},void n(null,{ETag:t.headers.etag||"",statusCode:t.statusCode,headers:t.headers}))})})})},multipartComplete:function(i,a){for(var s=this,e=i.UploadId,t=i.Parts,n=0,r=t.length;n<r;n++)0!==t[n].ETag.indexOf('"')&&(t[n].ETag='"'+t[n].ETag+'"');var o=y.json2xml({CompleteMultipartUpload:{Part:t}}),c=i.Headers;c["Content-Type"]="application/xml",c["Content-MD5"]=y.binaryBase64(y.md5(o)),u.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:i.Bucket,Region:i.Region,Key:i.Key,qs:{uploadId:e},body:o,headers:c},function(e,t){if(e)return a(e);var n=v({ForcePathStyle:s.options.ForcePathStyle,protocol:s.options.Protocol,domain:s.options.Domain,bucket:i.Bucket,region:i.Region,object:i.Key,isLocation:!0}),r=t.CompleteMultipartUploadResult||{},o=y.extend(r,{Location:n,statusCode:t.statusCode,headers:t.headers});a(null,o)})},multipartList:function(e,i){var t={};t.delimiter=e.Delimiter,t["encoding-type"]=e.EncodingType,t.prefix=e.Prefix||"",t["max-uploads"]=e.MaxUploads,t["key-marker"]=e.KeyMarker,t["upload-id-marker"]=e.UploadIdMarker,t=y.clearKey(t),u.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:t.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:t,action:"uploads"},function(e,t){if(e)return i(e);var n,r;t&&t.ListMultipartUploadsResult&&(r=t.ListMultipartUploadsResult.Upload||[],n=t.ListMultipartUploadsResult.CommonPrefixes||[],n=y.isArray(n)?n:[n],r=y.isArray(r)?r:[r],t.ListMultipartUploadsResult.Upload=r,t.ListMultipartUploadsResult.CommonPrefixes=n);var o=y.clone(t.ListMultipartUploadsResult||{});y.extend(o,{statusCode:t.statusCode,headers:t.headers}),i(null,o)})},multipartListPart:function(e,i){var t={};t.uploadId=e.UploadId,t["encoding-type"]=e.EncodingType,t["max-parts"]=e.MaxParts,t["part-number-marker"]=e.PartNumberMarker,u.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:t},function(e,t){if(e)return i(e);var n=t.ListPartsResult||{},r=n.Part||[],r=y.isArray(r)?r:[r];n.Part=r;var o=y.clone(n);y.extend(o,{statusCode:t.statusCode,headers:t.headers}),i(null,o)})},multipartAbort:function(e,n){var t={};t.uploadId=e.UploadId,u.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:t},function(e,t){return e?n(e):void n(null,{statusCode:t.statusCode,headers:t.headers})})},getObjectUrl:function(e,r){var o=v({ForcePathStyle:this.options.ForcePathStyle,protocol:e.Protocol||this.options.Protocol,domain:this.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});if(void 0!==e.Sign&&!e.Sign)return r(null,{Url:o}),o;var t=c.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires},function(e,t){var n;r&&(e?r(e):(n=o,n+="?"+(-1<t.Authorization.indexOf("q-signature")?t.Authorization:"sign="+encodeURIComponent(t.Authorization)),t.XCosSecurityToken&&(n+="&x-cos-security-token="+t.XCosSecurityToken),t.ClientIP&&(n+="&clientIP="+t.ClientIP),t.ClientUA&&(n+="&clientUA="+t.ClientUA),t.Token&&(n+="&token="+t.Token),setTimeout(function(){r(null,{Url:n})})))});return t?o+"?"+t.Authorization+(t.XCosSecurityToken?"&x-cos-security-token="+t.XCosSecurityToken:""):o},getAuth:function(e){return y.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};e.exports.init=function(n,e){e.transferToTaskMethod(r,"putObject"),y.each(r,function(e,t){var r,o,i;n.prototype[t]=y.apiWrapper(t,e),r=t,o=e,i=n.prototype,y.each(["Cors","Acl"],function(e){var t,n;r.slice(-e.length)===e&&(t=r.slice(0,-e.length)+e.toUpperCase(),n=y.apiWrapper(r,o),i[t]=function(){n.apply(this,arguments)})})})}},function(e,t,n){"use strict";function a(e){switch((0,fe.default)(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}var fe=n(0)(n(1)),s=function(){function t(e,t){return t.toUpperCase()}var l=[],d=l.slice,s=l.concat,r=l.push,o=l.indexOf,n={},i=n.toString,h=n.hasOwnProperty,f={},e="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",w=function e(t,n){return new e.fn.init(t,n)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c=/^-ms-/,u=/-([\da-z])/gi;function p(e){var t=e.length,n=w.type(e);return"function"!==n&&!w.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}w.fn=w.prototype={jquery:e,constructor:w,selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:d.call(this)},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},map:function(n){return this.pushStack(w.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:r,sort:l.sort,splice:l.splice},w.extend=w.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"===(0,fe.default)(a)||w.isFunction(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(o=arguments[s]))for(r in o)e=a[r],a!==(n=o[r])&&(u&&n&&(w.isPlainObject(n)||(t=w.isArray(n)))?(i=t?(t=!1,e&&w.isArray(e)?e:[]):e&&w.isPlainObject(e)?e:{},a[r]=w.extend(u,i,n)):void 0!==n&&(a[r]=n));return a},w.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray||function(e){return"array"===w.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!w.isArray(e)&&0<=e-parseFloat(e)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!h.call(e,"constructor")&&!h.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(f.ownLast)for(t in e)return h.call(e,t);for(t in e);return void 0===t||h.call(e,t)},type:function(e){return null==e?e+"":"object"===(0,fe.default)(e)||"function"==typeof e?n[i.call(e)]||"object":(0,fe.default)(e)},globalEval:function(e){e&&w.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(c,"ms-").replace(u,t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,o=e.length,i=p(e);if(n){if(i)for(;r<o&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(i)for(;r<o&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?w.merge(n,"string"==typeof e?[e]:e):r.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(o)return o.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;)e[o++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[o++]=t[r++];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!=a&&r.push(e[o]);return r},map:function(e,t,n){var r,o=0,i=e.length,a=[];if(p(e))for(;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return s.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(o=e[t],t=e,e=o),w.isFunction(e))return n=d.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(d.call(arguments)))}).guid=e.guid=e.guid||w.guid++,r},now:function(){return+new Date},support:f}),w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var g,m=window.document,y=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(w.fn.init=function(e,t){var n,r;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?void 0!==g.ready?g.ready(e):e(w):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:y.exec(e))||!n[1]&&t)return!t||t.jquery?(t||g).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:m,!0)),rsingleTag.test(n[1])&&w.isPlainObject(t))for(n in t)w.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((r=m.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return g.find(e);this.length=1,this[0]=r}return this.context=m,this.selector=e,this}).prototype=w.fn,g=w(m);var v,C,S=/\S+/g,b={};function x(){m.addEventListener?(m.removeEventListener("DOMContentLoaded",k,!1),window.removeEventListener("load",k,!1)):(m.detachEvent("onreadystatechange",k),window.detachEvent("onload",k))}function k(){!m.addEventListener&&"load"!==event.type&&"complete"!==m.readyState||(x(),w.ready())}for(C in w.Callbacks=function(o){var e,n;o="string"==typeof o?b[o]||(n=b[e=o]={},w.each(e.match(S)||[],function(e,t){n[t]=!0}),n):w.extend({},o);function r(e){for(t=o.memory&&e,a=!0,c=u||0,u=0,s=l.length,i=!0;l&&c<s;c++)if(!1===l[c].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}i=!1,l&&(d?d.length&&r(d.shift()):t?l=[]:f.disable())}var i,t,a,s,c,u,l=[],d=!o.once&&[],f={add:function(){var e;return l&&(e=l.length,function r(e){w.each(e,function(e,t){var n=w.type(t);"function"===n?o.unique&&f.has(t)||l.push(t):t&&t.length&&"string"!==n&&r(t)})}(arguments),i?s=l.length:t&&(u=e,r(t))),this},remove:function(){return l&&w.each(arguments,function(e,t){for(var n;-1<(n=w.inArray(t,l,n));)l.splice(n,1),i&&(n<=s&&s--,n<=c&&c--)}),this},has:function(e){return e?-1<w.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=d=t=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,t||f.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!l||a&&!d||(t=[e,(t=t||[]).slice?t.slice():t],i?d.push(t):r(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}};return f},w.extend({Deferred:function(e){var i=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return w.Deferred(function(r){w.each(i,function(e,t){var n=w.isFunction(o[e])&&o[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?w.extend(e,a):a}},s={};return a.pipe=a.then,w.each(i,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){o=r},i[1^e][2].disable,i[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?d.call(arguments):e,r===o?u.notifyWith(n,r):--c||u.resolveWith(n,r)}}var o,n,r,i=0,a=d.call(arguments),s=a.length,c=1!==s||e&&w.isFunction(e.promise)?s:0,u=1===c?e:w.Deferred();if(1<s)for(o=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)a[i]&&w.isFunction(a[i].promise)?a[i].promise().done(t(i,r,a)).fail(u.reject).progress(t(i,n,o)):--c;return c||u.resolveWith(r,a),u.promise()}}),w.fn.ready=function(e){return w.ready.promise().done(e),this},w.extend({isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(!(!0===e?--w.readyWait:w.isReady)){if(!m.body)return setTimeout(w.ready);(w.isReady=!0)!==e&&0<--w.readyWait||(v.resolveWith(m,[w]),w.fn.triggerHandler&&(w(m).triggerHandler("ready"),w(m).off("ready")))}}}),w.ready.promise=function(e){if(!v)if(v=w.Deferred(),"complete"===m.readyState)setTimeout(w.ready);else if(m.addEventListener)m.addEventListener("DOMContentLoaded",k,!1),window.addEventListener("load",k,!1);else{m.attachEvent("onreadystatechange",k),window.attachEvent("onload",k);var n=!1;try{n=null==window.frameElement&&m.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!w.isReady){try{n.doScroll("left")}catch(e){return setTimeout(t,50)}x(),w.ready()}}()}return v.promise(e)},w(f))break;f.ownLast="0"!==C,f.inlineBlockNeedsLayout=!1,w(function(){var e,t,n,r;(n=m.getElementsByTagName("body")[0])&&n.style&&(t=m.createElement("div"),(r=m.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),"undefined"!==(0,fe.default)(t.style.zoom)&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",f.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=m.createElement("div");if(null==f.deleteExpando){f.deleteExpando=!0;try{delete e.test}catch(e){f.deleteExpando=!1}}e=null}(),w.acceptData=function(e){var t=w.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var T=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,R=/([A-Z])/g;function A(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(R,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:T.test(n)?w.parseJSON(n):n)}catch(e){}w.data(e,t,n)}else n=void 0}return n}function E(e){var t;for(t in e)if(("data"!==t||!w.isEmptyObject(e[t]))&&"toJSON"!==t)return;return 1}function _(e,t,n,r){if(w.acceptData(e)){var o,i,a=w.expando,s=e.nodeType,c=s?w.cache:e,u=s?e[a]:e[a]&&a;if(u&&c[u]&&(r||c[u].data)||void 0!==n||"string"!=typeof t)return c[u=u||(s?e[a]=l.pop()||w.guid++:a)]||(c[u]=s?{}:{toJSON:w.noop}),"object"!==(0,fe.default)(t)&&"function"!=typeof t||(r?c[u]=w.extend(c[u],t):c[u].data=w.extend(c[u].data,t)),i=c[u],r||(i.data||(i.data={}),i=i.data),void 0!==n&&(i[w.camelCase(t)]=n),"string"==typeof t?null==(o=i[t])&&(o=i[w.camelCase(t)]):o=i,o}}function B(e,t,n){if(w.acceptData(e)){var r,o,i=e.nodeType,a=i?w.cache:e,s=i?e[w.expando]:w.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){o=(t=w.isArray(t)?t.concat(w.map(t,w.camelCase)):t in r||(t=w.camelCase(t))in r?[t]:t.split(" ")).length;for(;o--;)delete r[t[o]];if(n?!E(r):!w.isEmptyObject(r))return}(n||(delete a[s].data,E(a[s])))&&(i?w.cleanData([e],!0):f.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}w.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?w.cache[e[w.expando]]:e[w.expando])&&!E(e)},data:function(e,t,n){return _(e,t,n)},removeData:function(e,t){return B(e,t)},_data:function(e,t,n){return _(e,t,n,!0)},_removeData:function(e,t){return B(e,t,!0)}}),w.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0!==e)return"object"===(0,fe.default)(e)?this.each(function(){w.data(this,e)}):1<arguments.length?this.each(function(){w.data(this,e,t)}):i?A(i,e,w.data(i,e)):void 0;if(this.length&&(o=w.data(i),1===i.nodeType&&!w._data(i,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&A(i,r=w.camelCase(r.slice(5)),o[r]);w._data(i,"parsedAttrs",!0)}return o},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return r=w._data(e,t=(t||"fx")+"queue"),n&&(!r||w.isArray(n)?r=w._data(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=w.queue(e,t=t||"fx"),r=n.length,o=n.shift(),i=w._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,function(){w.dequeue(e,t)},i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?w.queue(this[0],t):void 0===n?this:this.each(function(){var e=w.queue(this,t,n);w._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&w.dequeue(this,t)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||i.resolveWith(a,[a])}var r,o=1,i=w.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=w._data(a[s],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(n));return n(),i.promise(t)}}),w.event={global:{},add:function(e,t,n,r,o){var i,a,s,c,u,l,d,f,p,h,g,m=w._data(e);if(m){for(n.handler&&(n=(c=n).handler,o=c.selector),n.guid||(n.guid=w.guid++),(a=m.events)||(a=m.events={}),(l=m.handle)||((l=m.handle=function(e){return"undefined"===(0,fe.default)(w)||e&&w.event.triggered===e.type?void 0:w.event.dispatch.apply(l.elem,arguments)}).elem=e),s=(t=(t||"").match(S)||[""]).length;s--;)p=g=(i=D.exec(t[s])||[])[1],h=(i[2]||"").split(".").sort(),p&&(u=w.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,u=w.event.special[p]||{},d=w.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:h.join(".")},c),(f=a[p])||((f=a[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,h,l)||(e.addEventListener?e.addEventListener(p,l,!1):e.attachEvent&&e.attachEvent("on"+p,l))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,d):f.push(d),w.event.global[p]=!0);e=null}},remove:function(e,t,n,r,o){var i,a,s,c,u,l,d,f,p,h,g,m=w.hasData(e)&&w._data(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(S)||[""]).length;u--;)if(p=g=(s=D.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=w.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=i=f.length;i--;)a=f[i],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(i,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));c&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||w.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)w.event.remove(e,p+t[u],n,r,!0);w.isEmptyObject(l)&&(delete m.handle,w._removeData(e,"events"))}},trigger:function(e,t,n,r){var o,i,a,s,c,u,l=[n||m],d=h.call(e,"type")?e.type:e,f=h.call(e,"namespace")?e.namespace.split("."):[],p=c=n=n||m;if(3!==n.nodeType&&8!==n.nodeType&&!I.test(d+w.event.triggered)&&(0<=d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),i=d.indexOf(":")<0&&"on"+d,(e=e[w.expando]?e:new w.Event(d,"object"===(0,fe.default)(e)&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:w.makeArray(t,[e]),s=w.event.special[d]||{},r||!s.trigger||!1!==s.trigger.apply(n,t))){if(!r&&!s.noBubble&&!w.isWindow(n)){for(a=s.delegateType||d,I.test(a+d)||(p=p.parentNode);p;p=p.parentNode)l.push(p),c=p;c===(n.ownerDocument||m)&&l.push(c.defaultView||c.parentWindow||window)}for(u=0;(p=l[u++])&&!e.isPropagationStopped();)e.type=1<u?a:s.bindType||d,(o=(w._data(p,"events")||{})[e.type]&&w._data(p,"handle"))&&o.apply(p,t),(o=i&&p[i])&&o.apply&&w.acceptData(p)&&(e.result=o.apply(p,t),!1===e.result&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!s._default||!1===s._default.apply(l.pop(),t))&&w.acceptData(n)&&i&&n[d]&&!w.isWindow(n)){(c=n[i])&&(n[i]=null),w.event.triggered=d;try{n[d]()}catch(e){}w.event.triggered=void 0,c&&(n[i]=c)}return e.result}},dispatch:function(e){e=w.event.fix(e);var t,n,r,o,i,a,s=d.call(arguments),c=(w._data(this,"events")||{})[e.type]||[],u=w.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=w.event.handlers.call(this,e,c),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(r.namespace)||(e.handleObj=r,e.data=r.data,void 0!==(n=((w.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,o,i,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(o=[],i=0;i<s;i++)void 0===o[n=(r=t[i]).selector+" "]&&(o[n]=r.needsContext?0<=w(n,this).index(c):w.find(n,this,null,[c]).length),o[n]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[w.expando])return e;var t,n,r,o=e.type,i=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=O.test(o)?this.mouseHooks:N.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new w.Event(i),t=r.length;t--;)e[n=r[t]]=i[n];return e.target||(e.target=i.srcElement||m),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,o,i=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(r=e.target.ownerDocument||m).documentElement,n=r.body,e.pageX=t.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===i||(e.which=1&i?1:2&i?3:4&i?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(w.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(o,null,t):w.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=m.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"===(0,fe.default)(e[r])&&(e[r]=null),e.detachEvent(r,n))};var P=/^(?:input|select|textarea)$/i,N=/^key/,O=/^(?:mouse|pointer|contextmenu)|click/,I=/^(?:focusinfocus|focusoutblur)$/,D=/^([^.]*)(?:\.(.+)|)$/;function L(){return!0}function M(){return!1}(w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?L:M):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0}).prototype={isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=L,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=L,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=L,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},f.submitBubbles||(w.event.special.submit={setup:function(){if(w.nodeName(this,"form"))return!1;w.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=w.nodeName(t,"input")||w.nodeName(t,"button")?t.form:void 0;n&&!w._data(n,"submitBubbles")&&(w.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),w._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(w.nodeName(this,"form"))return!1;w.event.remove(this,"._submit")}}),f.changeBubbles||(w.event.special.change={setup:function(){if(P.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(w.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)})),!1;w.event.add(this,"beforeactivate._change",function(e){var t=e.target;P.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return w.event.remove(this,"._change"),!P.test(this.nodeName)}}),f.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(n,r){function o(e){w.event.simulate(r,e.target,w.event.fix(e),!0)}w.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=w._data(e,r);t||e.addEventListener(n,o,!0),w._data(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=w._data(e,r)-1;t?w._data(e,r,t):(e.removeEventListener(n,o,!0),w._removeData(e,r))}}}),w.fn.extend({on:function(e,t,n,r,o){var i,a;if("object"===(0,fe.default)(e)){for(i in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(i,t,n,e[i],o);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=M;else if(!r)return this;return 1===o&&(a=r,(r=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),this.each(function(){w.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!==(0,fe.default)(e))return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=M),this.each(function(){w.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o]);return this},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),w.fn.delay=function(r,e){return r=w.fx&&w.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,r);t.stop=function(){clearTimeout(n)}})};var j=w.now(),U=/\?/,H=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;w.parseJSON=function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var o,i=null,t=w.trim(e+"");return t&&!w.trim(t.replace(H,function(e,t,n,r){return o&&t&&(i=0),0===i?e:(o=n||t,i+=!r-!n,"")}))?Function("return "+t)():w.error("Invalid JSON: "+e)},w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var F,K,z=/#.*$/,q=/([?&])_=[^&]*/,G=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,W=/^(?:GET|HEAD)$/,V=/^\/\//,X=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$={},J={},Q="*/".concat("*");try{K=location.href}catch(l){(K=m.createElement("a")).href="",K=K.href}function Y(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,o=e.toLowerCase().match(S)||[];if(w.isFunction(t))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(i[n]=i[n]||[]).unshift(t)):(i[n]=i[n]||[]).push(t)}}function Z(t,o,i,a){var s={},c=t===J;function u(e){var r;return s[e]=!0,w.each(t[e]||[],function(e,t){var n=t(o,i,a);return"string"!=typeof n||c||s[n]?c?!(r=n):void 0:(o.dataTypes.unshift(n),u(n),!1)}),r}return u(o.dataTypes[0])||!s["*"]&&u("*")}function ee(e,t){var n,r,o=w.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n=n||{})[r]=t[r]);return n&&w.extend(!0,e,n),e}F=X.exec(K.toLowerCase())||[],w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:K,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(F[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Q,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ee(ee(e,w.ajaxSettings),t):ee(w.ajaxSettings,e)},ajaxPrefilter:Y($),ajaxTransport:Y(J),ajax:function(e,t){"object"===(0,fe.default)(e)&&(t=e,e=void 0);var n,r,l,d,f,p,h,o,g=w.ajaxSetup({},t=t||{}),m=g.context||g,y=g.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),C=w.Callbacks("once memory"),b=g.statusCode||{},i={},a={},x=0,s="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!o)for(o={};t=G.exec(d);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?d:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=a[n]=a[n]||e,i[e]=t),this},overrideMimeType:function(e){return x||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)b[t]=[b[t],e[t]];else k.always(e[k.status]);return this},abort:function(e){var t=e||s;return h&&h.abort(t),c(0,t),this}};if(v.promise(k).complete=C.add,k.success=k.done,k.error=k.fail,g.url=((e||g.url||K)+"").replace(z,"").replace(V,F[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=w.trim(g.dataType||"*").toLowerCase().match(S)||[""],null==g.crossDomain&&(n=X.exec(g.url.toLowerCase()),g.crossDomain=!(!n||n[1]===F[1]&&n[2]===F[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(F[3]||("http:"===F[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=w.param(g.data,g.traditional)),Z($,g,t,k),2===x)return k;for(r in(p=g.global)&&0==w.active++&&w.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!W.test(g.type),l=g.url,g.hasContent||(g.data&&(l=g.url+=(U.test(l)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=q.test(l)?l.replace(q,"$1_="+j++):l+(U.test(l)?"&":"?")+"_="+j++)),g.ifModified&&(w.lastModified[l]&&k.setRequestHeader("If-Modified-Since",w.lastModified[l]),w.etag[l]&&k.setRequestHeader("If-None-Match",w.etag[l])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&k.setRequestHeader("Content-Type",g.contentType),g.headers)k.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,k,g)||2===x))return k.abort();for(r in s="abort",{success:1,error:1,complete:1})k[r](g[r]);if(h=Z(J,g,t,k)){k.readyState=1,p&&y.trigger("ajaxSend",[k,g]),g.async&&0<g.timeout&&(f=setTimeout(function(){k.abort("timeout")},g.timeout));try{x=1,h.send(i,c)}catch(e){if(!(x<2))throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,r){var o,i,a,s,c,u=t;2!==x&&(x=2,f&&clearTimeout(f),h=void 0,d=r||"",k.readyState=0<e?4:0,o=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,o,i,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){c.unshift(a);break}if(c[0]in n)i=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){i=a;break}r=r||a}i=i||r}if(i)return i!==c[0]&&c.unshift(i),n[i]}(g,k,n)),s=function(e,t,n,r){var o,i,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=i,i=l.shift())if("*"===i)i=c;else if("*"!==c&&c!==i){if(!(a=u[c+" "+i]||u["* "+i]))for(o in u)if((s=o.split(" "))[1]===i&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+i}}}return{state:"success",data:t}}(g,s,k,o),o?(g.ifModified&&((c=k.getResponseHeader("Last-Modified"))&&(w.lastModified[l]=c),(c=k.getResponseHeader("etag"))&&(w.etag[l]=c)),204===e||"HEAD"===g.type?u="nocontent":304===e?u="notmodified":(u=s.state,i=s.data,o=!(a=s.error))):(a=u,!e&&u||(u="error",e<0&&(e=0))),k.status=e,k.statusText=(t||u)+"",o?v.resolveWith(m,[i,u,k]):v.rejectWith(m,[k,u,a]),k.statusCode(b),b=void 0,p&&y.trigger(o?"ajaxSuccess":"ajaxError",[k,g,o?i:a]),C.fireWith(m,[k,u]),p&&(y.trigger("ajaxComplete",[k,g]),--w.active||w.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,o){w[o]=function(e,t,n,r){return w.isFunction(t)&&(r=r||n,n=t,t=void 0),w.ajax({url:e,type:o,dataType:r,data:t,success:n})}}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};var te=/%20/g,ne=/\[\]$/,re=/\r?\n/g,oe=/^(?:submit|button|image|reset|file)$/i,ie=/^(?:input|select|textarea|keygen)/i;w.param=function(e,t){function n(e,t){t=w.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}var r,o=[];if(void 0===t&&(t=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){n(this.name,this.value)});else for(r in e)!function n(r,e,o,i){var t;if(w.isArray(e))w.each(e,function(e,t){o||ne.test(r)?i(r,t):n(r+"["+("object"===(0,fe.default)(t)?e:"")+"]",t,o,i)});else if(o||"object"!==w.type(e))i(r,e);else for(t in e)n(r+"["+t+"]",e[t],o,i)}(r,e[r],t,n);return o.join("&").replace(te,"+")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&ie.test(this.nodeName)&&!oe.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(re,"\r\n")}}):{name:t.name,value:n.replace(re,"\r\n")}}).get()}}),w.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&ue()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:ue;var ae=0,se={},ce=w.ajaxSettings.xhr();function ue(){try{return new window.XMLHttpRequest}catch(e){}}window.ActiveXObject&&w(window).on("unload",function(){for(var e in se)se[e](void 0,!0)}),f.cors=!!ce&&"withCredentials"in ce,(ce=f.ajax=!!ce)&&w.ajaxTransport(function(c){var u;if(!c.crossDomain||f.cors)return{send:function(e,i){var t,a=c.xhr(),s=++ae;if(a.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(t in c.xhrFields)a[t]=c.xhrFields[t];for(t in c.mimeType&&a.overrideMimeType&&a.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.upload&&c.progress&&(a.upload.onprogress=c.progress),a.send(c.hasContent&&(c.body||c.data)||null),u=function(e,t){var n,r,o;if(u&&(t||4===a.readyState))if(delete se[s],u=void 0,a.onreadystatechange=w.noop,t)4!==a.readyState&&a.abort();else{o={},n=a.status,"string"==typeof a.responseText&&(o.text=a.responseText);try{r=a.statusText}catch(e){r=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&i(n,r,o,a.getAllResponseHeaders())},c.async?4===a.readyState?setTimeout(u):a.onreadystatechange=se[s]=u:u()},abort:function(){u&&u(void 0,!0)}}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(t){if(t.crossDomain){var r,o=m.head||w("head")[0]||m.documentElement;return{send:function(e,n){(r=m.createElement("script")).async=!0,t.scriptCharset&&(r.charset=t.scriptCharset),r.src=t.url,r.onload=r.onreadystatechange=function(e,t){!t&&r.readyState&&!/loaded|complete/.test(r.readyState)||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,t||n(200,"success"))},o.insertBefore(r,o.firstChild)},abort:function(){r&&r.onload(void 0,!0)}}}});var le=[],de=/(=)\?(?=&|$)|\?\?/;return w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=le.pop()||w.expando+"_"+j++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,n){var r,o,i,a=!1!==e.jsonp&&(de.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&de.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=w.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(de,"$1"+r):!1!==e.jsonp&&(e.url+=(U.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return i||w.error(r+" was not called"),i[0]},e.dataTypes[0]="json",o=window[r],window[r]=function(){i=arguments},n.always(function(){window[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,le.push(r)),i&&w.isFunction(o)&&o(i[0]),i=o=void 0}),"script"}),w.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||m;var r=rsingleTag.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes))},w}();e.exports=function(e,r){var t,n,o;(e=s.extend(!0,{headers:{},qs:{}},e)).type=e.method,delete e.method,e.onProgress&&(e.progress=e.onProgress,delete e.onProgress),e.qs&&(n=e.qs,null===n&&(n=void 0),(t="object"===(0,fe.default)(n)?Object.keys(n).map(function(e){var t=encodeURIComponent(a(e))+"=";return Array.isArray(n[e])?n[e].map(function(e){return t+encodeURIComponent(a(e))}).join("&"):t+encodeURIComponent(a(n[e]))}).filter(Boolean).join("&"):"")&&(e.url+=(-1===e.url.indexOf("?")?"?":"&")+t),delete e.qs),e.json&&(e.data=e.body,delete e.json,delete e.body,e.headers||(e.headers={}),e.headers["Content-Type"]="application/json"),e.body&&(e.body instanceof Blob||"[object File]"===e.body.toString()||"[object Blob]"===e.body.toString()||(e.data=e.body,delete e.body)),e.headers&&(o=e.headers,delete e.headers,e.beforeSend=function(e){for(var t in o)o.hasOwnProperty(t)&&"content-length"!==t.toLowerCase()&&"user-agent"!==t.toLowerCase()&&"origin"!==t.toLowerCase()&&"host"!==t.toLowerCase()&&e.setRequestHeader(t,o[t])});function i(e){var o={};return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var t,n,r;e&&(t=e.indexOf(":"),n=e.substr(0,t).trim().toLowerCase(),r=e.substr(t+1).trim(),o[n]=r)}),{statusCode:e.status,statusMessage:e.statusText,headers:o}}return e.success=function(e,t,n){r(null,i(n),e)},e.error=function(e){e.responseText?r(null,i(e),e.responseText):r(e.statusText,i(e),e.responseText)},e.dataType="text",s.ajax(e)}},function(e,t,n){"use strict";var m=n(0)(n(1)),x=n(8),k=n(31),w=n(7).EventProxy,S=n(2);function y(d,i){function a(c,u){var l=c.length;return 0===l?u(null,!0):y<l||1<l&&Math.max(c[0].Size,c[1].Size)!==m?u(null,!1):void function n(r){var o,i,a,e,t,s;r<l?(o=c[r],i=o.PartNumber,a=function(e,t){t&&t.ETag===o.ETag&&t.Size===o.Size?n(r+1):u(null,!1)},e=m*(i-1),t=Math.min(e+m,g),s=t-e,h[i]?a(0,{PartNumber:i,ETag:h[i],Size:s}):S.fileSlice(d.Body,e,t,!1,function(e){S.getFileMd5(e,function(e,t){if(e)return a();var n='"'+t+'"';h[i]=n,v+=s,a(0,{PartNumber:i,ETag:n,Size:s}),C({loaded:v,total:g})})})):u(null,!0)}(0)}var s=d.TaskId,c=d.Bucket,u=d.Region,l=d.Key,f=d.StorageClass,p=this,h={},g=d.FileSize,m=d.SliceSize,y=Math.ceil(g/m),v=0,C=S.throttleOnProgress.call(p,g,d.onHashProgress),b=new w;b.on("error",function(e){if(p._isRunningTask(s))return i(e)}),b.on("upload_id_available",function(e){var t={},n=[];S.each(e.PartList,function(e){t[e.PartNumber]=e});for(var r=1;r<=y;r++){var o=t[r];o?(o.PartNumber=r,o.Uploaded=!0):o={PartNumber:r,ETag:null,Uploaded:!1},n.push(o)}e.PartList=n,i(null,e)}),b.on("no_available_upload_id",function(){var e,t;p._isRunningTask(s)&&(e=S.extend({Bucket:c,Region:u,Key:l,Headers:S.clone(d.Headers),StorageClass:f,Body:d.Body},d),(t=d.Headers["Content-Type"]||d.Body&&d.Body.type)&&(e.Headers["Content-Type"]=t),p.multipartInit(e,function(e,t){if(p._isRunningTask(s)){if(e)return b.emit("error",e);var n=t.UploadId;if(!n)return i({Message:"no upload id"});b.emit("upload_id_available",{UploadId:n,PartList:[]})}}))}),b.on("has_and_check_upload_id",function(e){e=e.reverse(),k.eachLimit(e,1,function(r,o){p._isRunningTask(s)&&(x.using[r]?o():R.call(p,{Bucket:c,Region:u,Key:l,UploadId:r},function(e,t){if(p._isRunningTask(s)){if(e)return x.removeUsing(r),b.emit("error",e);var n=t.PartList;n.forEach(function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""}),a(n,function(e,t){if(p._isRunningTask(s))return e?b.emit("error",e):void(t?o({UploadId:r,PartList:n}):o())})}}))},function(e){p._isRunningTask(s)&&(C(null,!0),e&&e.UploadId?b.emit("upload_id_available",e):b.emit("no_available_upload_id"))})}),b.on("seek_local_avail_upload_id",function(e){var t=x.getFileId(d.Body,d.ChunkSize,c,l),i=x.getUploadIdList(t);t&&i?function n(r){if(r>=i.length)b.emit("has_and_check_upload_id",e);else{var o=i[r];if(!S.isInArray(e,o))return x.removeUploadId(o),void n(r+1);x.using[o]?n(r+1):R.call(p,{Bucket:c,Region:u,Key:l,UploadId:o},function(e,t){p._isRunningTask(s)&&(e?(x.removeUploadId(o),n(r+1)):b.emit("upload_id_available",{UploadId:o,PartList:t.PartList}))})}}(0):b.emit("has_and_check_upload_id",e)}),b.on("get_remote_upload_id_list",function(e){T.call(p,{Bucket:c,Region:u,Key:l},function(e,t){if(p._isRunningTask(s)){if(e)return b.emit("error",e);var n,r,o=S.filter(t.UploadList,function(e){return e.Key===l&&(!f||e.StorageClass.toUpperCase()===f.toUpperCase())}).reverse().map(function(e){return e.UploadId||e.UploadID});o.length?b.emit("seek_local_avail_upload_id",o):((r=x.getFileId(d.Body,d.ChunkSize,c,l))&&(n=x.getUploadIdList(r))&&S.each(n,function(e){x.removeUploadId(e)}),b.emit("no_available_upload_id"))}})}),b.emit("get_remote_upload_id_list")}function T(e,r){var t=this,o=[],i={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key};!function n(){t.multipartList(i,function(e,t){return e?r(e):(o.push.apply(o,t.Upload||[]),void("true"===t.IsTruncated?(i.KeyMarker=t.NextKeyMarker,i.UploadIdMarker=t.NextUploadIdMarker,n()):r(null,{UploadList:o})))})}()}function R(e,r){var t=this,o=[],i={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId};!function n(){t.multipartListPart(i,function(e,t){return e?r(e):(o.push.apply(o,t.Part||[]),void("true"===t.IsTruncated?(i.PartNumberMarker=t.NextPartNumberMarker,n()):r(null,{PartList:o})))})}()}function v(e,t){var a=this,s=e.TaskId,c=e.Bucket,u=e.Region,l=e.Key,d=e.UploadData,f=e.FileSize,p=e.SliceSize,n=Math.min(e.AsyncLimit||a.options.ChunkParallelLimit||1,256),h=e.Body,r=Math.ceil(f/p),g=0,m=e.ServerSideEncryption,o=S.filter(d.PartList,function(e){return e.Uploaded&&(g+=e.PartNumber>=r&&f%p||p),!e.Uploaded}),y=e.onProgress;k.eachLimit(o,n,function(n,r){var e,o,i;a._isRunningTask(s)&&(e=n.PartNumber,o=Math.min(f,n.PartNumber*p)-(n.PartNumber-1)*p,i=0,function(t,n){var r=this,o=t.TaskId,i=t.Bucket,a=t.Region,s=t.Key,e=t.FileSize,c=t.Body,u=+t.PartNumber,l=t.SliceSize,d=t.ServerSideEncryption,f=t.UploadData,p=r.options.ChunkRetryTimes+1,h=l*(u-1),g=l,m=h+l;e<m&&(g=(m=e)-h);var y=f.PartList[u-1];k.retry(p,function(n){r._isRunningTask(o)&&S.fileSlice(c,h,m,!0,function(e){r.multipartUpload({TaskId:o,Bucket:i,Region:a,Key:s,ContentLength:g,PartNumber:u,UploadId:f.UploadId,ServerSideEncryption:d,Body:e,onProgress:t.onProgress},function(e,t){if(r._isRunningTask(o))return e?n(e):(y.Uploaded=!0,n(null,t))})})},function(e,t){if(r._isRunningTask(o))return n(e,t)})}.call(a,{TaskId:s,Bucket:c,Region:u,Key:l,SliceSize:p,FileSize:f,PartNumber:e,ServerSideEncryption:m,Body:h,UploadData:d,onProgress:function(e){g+=e.loaded-i,i=e.loaded,y({loaded:g,total:f})}},function(e,t){a._isRunningTask(s)&&(!S.isBrowser||e||t.ETag||(e='get ETag error, please add "ETag" to CORS ExposeHeader setting.'),e?g-=i:(g+=o-i,n.ETag=t.ETag),r(e||null,t))}))},function(e){if(a._isRunningTask(s))return e?t(e):void t(null,{UploadId:d.UploadId,SliceList:d.PartList})})}var r={sliceUploadFile:function(r,n){var o,i,a=this,s=new w,c=r.TaskId,u=r.Bucket,l=r.Region,d=r.Key,f=r.Body,p=r.ChunkSize||r.SliceSize||a.options.ChunkSize,h=r.AsyncLimit,t=r.StorageClass||"Standard",g=r.ServerSideEncryption,m=r.onHashProgress;s.on("error",function(e){if(a._isRunningTask(c))return n(e)}),s.on("upload_complete",function(e){n(null,e)}),s.on("upload_slice_complete",function(n){(function(e,n){var t=e.Bucket,r=e.Region,o=e.Key,i=e.UploadId,a=e.SliceList,s=this,c=this.options.ChunkRetryTimes+1,u=a.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});k.retry(c,function(e){s.multipartComplete({Bucket:t,Region:r,Key:o,UploadId:i,Parts:u},e)},function(e,t){n(e,t)})}).call(a,{Bucket:u,Region:l,Key:d,UploadId:n.UploadId,SliceList:n.SliceList},function(e,t){if(a._isRunningTask(c)){if(x.removeUsing(n.UploadId),e)return i(null,!0),s.emit("error",e);x.removeUploadId(n.UploadId),i({loaded:o,total:o},!0),s.emit("upload_complete",t)}})}),s.on("get_upload_data_finish",function(e){var t=x.getFileId(f,r.ChunkSize,u,d);t&&x.saveUploadId(t,e.UploadId,a.options.UploadIdCacheLimit),x.setUsing(e.UploadId),i(null,!0),v.call(a,{TaskId:c,Bucket:u,Region:l,Key:d,Body:f,FileSize:o,SliceSize:p,AsyncLimit:h,ServerSideEncryption:g,UploadData:e,onProgress:i},function(e,t){if(a._isRunningTask(c))return e?(i(null,!0),s.emit("error",e)):void s.emit("upload_slice_complete",t)})}),s.on("get_file_size_finish",function(){var e;i=S.throttleOnProgress.call(a,o,r.onProgress),r.UploadData.UploadId?s.emit("get_upload_data_finish",r.UploadData):(e=S.extend({TaskId:c,Bucket:u,Region:l,Key:d,Headers:r.Headers,StorageClass:t,Body:f,FileSize:o,SliceSize:p,onHashProgress:m},r),y.call(a,e,function(e,t){if(a._isRunningTask(c)){if(e)return s.emit("error",e);r.UploadData.UploadId=t.UploadId,r.UploadData.PartList=t.PartList,s.emit("get_upload_data_finish",r.UploadData)}}))}),o=r.ContentLength,delete r.ContentLength,r.Headers||(r.Headers={}),S.each(r.Headers,function(e,t){"content-length"===t.toLowerCase()&&delete r.Headers[t]}),function(){for(var e=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],t=1048576,n=0;n<e.length&&!(o/(t=1024*e[n]*1024)<=a.options.MaxPartNumber);n++);r.ChunkSize=r.SliceSize=p=Math.max(p,t)}(),0===o?(r.Body="",r.ContentLength=0,r.SkipTask=!0,a.putObject(r,function(e,t){return e?n(e):void n(null,t)})):s.emit("get_file_size_finish")},abortUploadTask:function(t,n){var r=t.Bucket,o=t.Region,i=t.Key,e=t.UploadId,a=t.Level||"task",s=t.AsyncLimit,c=this,u=new w;if(u.on("error",function(e){return n(e)}),u.on("get_abort_array",function(e){(function(e,a){var s=e.Bucket,c=e.Region,t=e.Key,n=e.AbortArray,r=e.AsyncLimit||1,u=this,l=0,d=new Array(n.length);k.eachLimit(n,r,function(r,o){var i=l;if(t&&t!==r.Key)return d[i]={error:{KeyNotMatch:!0}},void o(null);var a=r.UploadId||r.UploadID;u.multipartAbort({Bucket:s,Region:c,Key:r.Key,Headers:e.Headers,UploadId:a},function(e,t){var n={Bucket:s,Region:c,Key:r.Key,UploadId:a};d[i]={error:e,task:n},o(null)}),l++},function(e){if(e)return a(e);for(var t=[],n=[],r=0,o=d.length;r<o;r++){var i=d[r];i.task&&(i.error?n.push(i.task):t.push(i.task))}return a(null,{successList:t,errorList:n})})}).call(c,{Bucket:r,Region:o,Key:i,Headers:t.Headers,AsyncLimit:s,AbortArray:e},function(e,t){return e?n(e):void n(null,t)})}),"bucket"===a)T.call(c,{Bucket:r,Region:o},function(e,t){return e?n(e):void u.emit("get_abort_array",t.UploadList||[])});else if("file"===a){if(!i)return n({error:"abort_upload_task_no_key"});T.call(c,{Bucket:r,Region:o,Key:i},function(e,t){return e?n(e):void u.emit("get_abort_array",t.UploadList||[])})}else{if("task"!==a)return n({error:"abort_unknown_level"});if(!e)return n({error:"abort_upload_task_no_id"});if(!i)return n({error:"abort_upload_task_no_key"});u.emit("get_abort_array",[{Key:i,UploadId:e}])}},uploadFiles:function(e,r){function l(e,t,n){h(null,!0),i&&i(e,t,n),a[n.Index]={options:n,error:e,data:t},--o<=0&&r&&r(null,{files:a})}var d=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,f=0,p=0,h=S.throttleOnProgress.call(this,p,e.onProgress),o=e.files.length,i=e.onFileFinish,a=Array(o),g=[];S.each(e.files,function(c,u){!function(){var e=c.Body,t=e.size||e.length||0,n={Index:u,TaskId:""};f+=t,S.each(c,function(e,t){"object"!==(0,m.default)(e)&&"function"!=typeof e&&(n[t]=e)});var r=c.onTaskReady;c.onTaskReady=function(e){n.TaskId=e,r&&r(e)};var o=0,i=c.onProgress;c.onProgress=function(e){p=p-o+e.loaded,o=e.loaded,i&&i(e),h({loaded:p,total:f})};var a=c.onFileFinish,s=d<=t?"sliceUploadFile":"putObject";g.push({api:s,params:c,callback:function(e,t){a&&a(e,t),l(e,t,n)}})}()}),this._addTasks(g)},sliceCopyFile:function(u,o){var e,t,i,a,l,s,d,n,c,f=new w,p=this,h=u.Bucket,g=u.Region,m=u.Key,y=u.CopySource,r=y.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);r?(e=r[1],t=r[3],i=decodeURIComponent(r[4]),a=void 0===u.CopySliceSize?p.options.CopySliceSize:u.CopySliceSize,a=Math.max(0,a),d=u.CopyChunkSize||this.options.CopyChunkSize,n=this.options.CopyChunkParallelLimit,c=0,f.on("copy_slice_complete",function(e){p.multipartComplete({Bucket:h,Region:g,Key:m,UploadId:e.UploadId,Parts:e.PartList},function(e,t){return e?(s(null,!0),o(e)):(s({loaded:l,total:l},!0),void o(null,t))})}),f.on("get_copy_data_finish",function(a){k.eachLimit(a.PartList,n,function(n,r){var e=n.PartNumber,t=n.CopySourceRange,o=n.end-n.start,i=0;(function(e,n){var t=e.TaskId,r=e.Bucket,o=e.Region,i=e.Key,a=e.CopySource,s=e.UploadId,c=+e.PartNumber,u=e.CopySourceRange,l=this.options.ChunkRetryTimes+1,d=this;k.retry(l,function(n){d.uploadPartCopy({TaskId:t,Bucket:r,Region:o,Key:i,CopySource:a,UploadId:s,PartNumber:c,CopySourceRange:u,onProgress:e.onProgress},function(e,t){n(e||null,t)})},function(e,t){return n(e,t)})}).call(p,{Bucket:h,Region:g,Key:m,CopySource:y,UploadId:a.UploadId,PartNumber:e,CopySourceRange:t,onProgress:function(e){c+=e.loaded-i,i=e.loaded,s({loaded:c,total:l})}},function(e,t){return e?r(e):(s({loaded:c,total:l}),c+=o-i,n.ETag=t.ETag,void r(e||null,t))})},function(e){return e?(s(null,!0),o(e)):void f.emit("copy_slice_complete",a)})}),f.on("get_file_size_finish",function(e){var t;if(function(){for(var e=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],t=1048576,n=0;n<e.length&&!(l/(t=1024*e[n]*1024)<=p.options.MaxPartNumber);n++);u.ChunkSize=d=Math.max(d,t);for(var r=Math.ceil(l/d),o=[],i=1;i<=r;i++){var a=(i-1)*d,s=i*d<l?i*d-1:l-1,c={PartNumber:i,start:a,end:s,CopySourceRange:"bytes="+a+"-"+s};o.push(c)}u.PartList=o}(),(t="Replaced"===u.Headers["x-cos-metadata-directive"]?u.Headers:e)["x-cos-storage-class"]=u.Headers["x-cos-storage-class"]||e["x-cos-storage-class"],t=S.clearKey(t),"ARCHIVE"===e["x-cos-storage-class"]){var n=e["x-cos-restore"];if(!n||'ongoing-request="true"'===n)return void o({error:"Unrestored archive object is not allowed to be copied"})}delete t["x-cos-copy-source"],delete t["x-cos-metadata-directive"],delete t["x-cos-copy-source-If-Modified-Since"],delete t["x-cos-copy-source-If-Unmodified-Since"],delete t["x-cos-copy-source-If-Match"],delete t["x-cos-copy-source-If-None-Match"],p.multipartInit({Bucket:h,Region:g,Key:m,Headers:t},function(e,t){return e?o(e):(u.UploadId=t.UploadId,void f.emit("get_copy_data_finish",u))})}),p.headObject({Bucket:e,Region:t,Key:i},function(e,t){var n,r;e?e.statusCode&&404===e.statusCode?o({ErrorStatus:i+" Not Exist"}):o(e):void 0!==(l=u.FileSize=t.headers["content-length"])&&l?(s=S.throttleOnProgress.call(p,l,u.onProgress),l<=a?(u.Headers["x-cos-metadata-directive"]||(u.Headers["x-cos-metadata-directive"]="Copy"),p.putObjectCopy(u,function(e,t){return e?(s(null,!0),o(e)):(s({loaded:l,total:l},!0),void o(e,t))})):(n=t.headers,r={"Cache-Control":n["cache-control"],"Content-Disposition":n["content-disposition"],"Content-Encoding":n["content-encoding"],"Content-Type":n["content-type"],Expires:n.expires,"x-cos-storage-class":n["x-cos-storage-class"]},S.each(n,function(e,t){0===t.indexOf("x-cos-meta-")&&t.length>"x-cos-meta-".length&&(r[t]=e)}),f.emit("get_file_size_finish",r))):o({error:'get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.'})})):o({error:"CopySource format error"})}};e.exports.init=function(n,e){e.transferToTaskMethod(r,"sliceUploadFile"),S.each(r,function(e,t){n.prototype[t]=S.apiWrapper(t,e)})}},function(e,t,n){"use strict";e.exports={eachLimit:function(n,e,r,o){if(o=o||function(){},!n.length||e<=0)return o();var i=0,a=0,s=0;!function t(){if(i>=n.length)return o();for(;s<e&&a<n.length;)s+=1,r(n[(a+=1)-1],function(e){e?(o(e),o=function(){}):(--s,((i+=1)>=n.length?o:t)())})}()},retry:function(o,e,i){o<1?i():function n(r){e(function(e,t){e&&r<o?n(r+1):i(e,t)})}(1)}}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,p="~";function o(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new s(n,r||e,o),a=p?p+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],i]:e._events[a].push(i):(e._events[a]=i,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(p=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=p?p+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,i=new Array(o);r<o;r++)i[r]=n[r].fn;return i},a.prototype.listenerCount=function(e){var t=p?p+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,r,o,i){var a=p?p+e:e;if(!this._events[a])return!1;var s,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,i),!0}for(f=1,s=new Array(u-1);f<u;f++)s[f-1]=arguments[f];c.fn.apply(c.context,s)}else for(var l,d=c.length,f=0;f<d;f++)switch(c[f].once&&this.removeListener(e,c[f].fn,void 0,!0),u){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,t);break;case 3:c[f].fn.call(c[f].context,t,n);break;case 4:c[f].fn.call(c[f].context,t,n,r);break;default:if(!s)for(l=1,s=new Array(u-1);l<u;l++)s[l-1]=arguments[l];c[f].fn.apply(c[f].context,s)}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,n,r){var o=p?p+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var i=this._events[o];if(i.fn)i.fn!==t||r&&!i.once||n&&i.context!==n||u(this,o);else{for(var a=0,s=[],c=i.length;a<c;a++)(i[a].fn!==t||r&&!i[a].once||n&&i[a].context!==n)&&s.push(i[a]);s.length?this._events[o]=1===s.length?s[0]:s:u(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=p?p+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=p,a.EventEmitter=a,e.exports=a},function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(4)),i=((0,r(n(5)).default)(a,[{key:"scale",value:function(e,t){if(!e)return this;var n=e&&t?"".concat(e,"x").concat(t):e<1?"!".concat(100*e|0,"p"):e+"x";return this.effect.thumbnail=n,this}},{key:"cut",value:function(e,t,n,r){return this.effect.cut="".concat(e,"x").concat(t,"x").concat(n,"x").concat(r),this}},{key:"rotate",value:function(e){return this.effect.rotate=String(e),this}},{key:"quality",value:function(e){return this.effect.rquality=String(e),this}},{key:"blur",value:function(e,t){return this.effect.blur="".concat(e,"x").concat(t),this}},{key:"toString",value:function(){var n=this;this.url.search&&!this.url.search.endsWith("&")&&(this.url.search+="&");var e="imageMogr2"+Object.keys(this.effect).reduce(function(e,t){return e+"/".concat(t,"/").concat(n.effect[t])},"");return this.url.search+=this.url.search?e:"?"+e,this.url.toString()}},{key:"valueOf",value:function(){return this.toString()}}]),a);function a(e){var t=this;(0,o.default)(this,a),this.effect={},this.url=new window.URL(e),this.url.searchParams&&Array.from(this.url.searchParams.keys()).forEach(function(e){e.includes("imageMogr2/")&&t.url.searchParams.delete(e)})}t.default=i}])}}]);